<!doctype html>

<!--
# Author: Stefan Saam, github@saams.de
# Original author: Dmitri Popov, dmpop@linux.com

#######################################################################
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#######################################################################
-->


<html lang="" data-theme="dark">

<head>
	
<title>Little Backup Box</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/lbb.css">

<link rel="icon" href="favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/img/icons/favicon-180.png"/>
<link rel="icon" type="image/png" sizes="192x192" href="/img/icons/favicon-192.png"/>
<link rel="icon" type="image/png" sizes="512x512" href="/img/icons/favicon-512.png"/>
	<script type="text/javascript" src="js/display.js"></script>
</head>

<body  onload="refreshDisplay();">
	
<script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
	
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none">
	<symbol id="icon-power" viewBox="0 0 24 24" fill="none">
		<path d="M 17.8 3.0 A 9 9 0 1 1 6.2 3.0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<line x1="12" y1="1.8" x2="12" y2="9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
	</symbol>
</svg>

<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
	<div class="container-fluid">

		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse w-50" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0  w-100">
				<li class="nav-item"><a class="nav-link" href="/index.php">Backup</a></li>
				<li class="nav-item"><a class="nav-link" href="/sysinfo.php">System</a></li>
				<li class="nav-item"><a class="nav-link" href="/tools.php">Tools</a></li>
				<li class="nav-item"><a class="nav-link" href="/view.php">View</a></li>
			</ul>
		</div>

		<div class="collapse navbar-collapse w-50" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0  w-100">
				<li class="nav-item"><a class="nav-link" href="/frame.php?page=files">Files</a></li>
											<li class="nav-item"><a class="nav-link disabled" href="/frame.php?page=comitup">comitup</a></li>
									</ul>
		</div>

		<div class="navbar-collapse collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
								<li class="nav-item"><a class="nav-link active" href="/setup.php">Settings</a></li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownPower" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<svg width="1em" height="1em" style="vertical-align: middle;">
							<use href="#icon-power"/>
						</svg>
					</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdownPower">
						<li><a class="dropdown-item" href="?reboot=true">Reboot</a></li>
						<li><a class="dropdown-item" href="?shutdown=true">Power off</a></li>
						<li><a class="dropdown-item" href="http://logout@localhost:8080:80">Logout</a></li>
					</ul>
				</li>
			</ul>
		</div>

	</div>
</nav>

	
	
	<form action="/setup.php" method="POST" enctype="multipart/form-data">

		<div class="card" style="margin-top: 2em;">
			<button style="margin-top: 2em;" type="submit" name="save">Save</button>		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Language and time zone</summary>

				<div>
					<h3>Select language</h3>
						<label for="conf_LANGUAGE">Language-selector will always be labeled in English too.</label><br />
							<select name="conf_LANGUAGE" id="conf_LANGUAGE">
							<option value=''  selected>Browser detect</option><option value='de' >de</option><option value='en' >en</option><option value='es' >es</option><option value='fr' >fr</option>						</select>
				</div>

				<div>
					<h3>Please select your time zone</h3>
						<label for="conf_TIME_ZONE">Time zone</label><br />
							<select name="conf_TIME_ZONE" id="conf_TIME_ZONE">
								<option value='Africa/Abidjan' >Africa/Abidjan</option><option value='Africa/Accra' >Africa/Accra</option><option value='Africa/Addis_Ababa' >Africa/Addis_Ababa</option><option value='Africa/Algiers' >Africa/Algiers</option><option value='Africa/Asmara' >Africa/Asmara</option><option value='Africa/Asmera' >Africa/Asmera</option><option value='Africa/Bamako' >Africa/Bamako</option><option value='Africa/Bangui' >Africa/Bangui</option><option value='Africa/Banjul' >Africa/Banjul</option><option value='Africa/Bissau' >Africa/Bissau</option><option value='Africa/Blantyre' >Africa/Blantyre</option><option value='Africa/Brazzaville' >Africa/Brazzaville</option><option value='Africa/Bujumbura' >Africa/Bujumbura</option><option value='Africa/Cairo' >Africa/Cairo</option><option value='Africa/Casablanca' >Africa/Casablanca</option><option value='Africa/Ceuta' >Africa/Ceuta</option><option value='Africa/Conakry' >Africa/Conakry</option><option value='Africa/Dakar' >Africa/Dakar</option><option value='Africa/Dar_es_Salaam' >Africa/Dar_es_Salaam</option><option value='Africa/Djibouti' >Africa/Djibouti</option><option value='Africa/Douala' >Africa/Douala</option><option value='Africa/El_Aaiun' >Africa/El_Aaiun</option><option value='Africa/Freetown' >Africa/Freetown</option><option value='Africa/Gaborone' >Africa/Gaborone</option><option value='Africa/Harare' >Africa/Harare</option><option value='Africa/Johannesburg' >Africa/Johannesburg</option><option value='Africa/Juba' >Africa/Juba</option><option value='Africa/Kampala' >Africa/Kampala</option><option value='Africa/Khartoum' >Africa/Khartoum</option><option value='Africa/Kigali' >Africa/Kigali</option><option value='Africa/Kinshasa' >Africa/Kinshasa</option><option value='Africa/Lagos' >Africa/Lagos</option><option value='Africa/Libreville' >Africa/Libreville</option><option value='Africa/Lome' >Africa/Lome</option><option value='Africa/Luanda' >Africa/Luanda</option><option value='Africa/Lubumbashi' >Africa/Lubumbashi</option><option value='Africa/Lusaka' >Africa/Lusaka</option><option value='Africa/Malabo' >Africa/Malabo</option><option value='Africa/Maputo' >Africa/Maputo</option><option value='Africa/Maseru' >Africa/Maseru</option><option value='Africa/Mbabane' >Africa/Mbabane</option><option value='Africa/Mogadishu' >Africa/Mogadishu</option><option value='Africa/Monrovia' >Africa/Monrovia</option><option value='Africa/Nairobi' >Africa/Nairobi</option><option value='Africa/Ndjamena' >Africa/Ndjamena</option><option value='Africa/Niamey' >Africa/Niamey</option><option value='Africa/Nouakchott' >Africa/Nouakchott</option><option value='Africa/Ouagadougou' >Africa/Ouagadougou</option><option value='Africa/Porto-Novo' >Africa/Porto-Novo</option><option value='Africa/Sao_Tome' >Africa/Sao_Tome</option><option value='Africa/Timbuktu' >Africa/Timbuktu</option><option value='Africa/Tripoli' >Africa/Tripoli</option><option value='Africa/Tunis' >Africa/Tunis</option><option value='Africa/Windhoek' >Africa/Windhoek</option><option value='America/Adak' >America/Adak</option><option value='America/Anchorage' >America/Anchorage</option><option value='America/Anguilla' >America/Anguilla</option><option value='America/Antigua' >America/Antigua</option><option value='America/Araguaina' >America/Araguaina</option><option value='America/Argentina/Buenos_Aires' >America/Argentina/Buenos_Aires</option><option value='America/Argentina/Catamarca' >America/Argentina/Catamarca</option><option value='America/Argentina/ComodRivadavia' >America/Argentina/ComodRivadavia</option><option value='America/Argentina/Cordoba' >America/Argentina/Cordoba</option><option value='America/Argentina/Jujuy' >America/Argentina/Jujuy</option><option value='America/Argentina/La_Rioja' >America/Argentina/La_Rioja</option><option value='America/Argentina/Mendoza' >America/Argentina/Mendoza</option><option value='America/Argentina/Rio_Gallegos' >America/Argentina/Rio_Gallegos</option><option value='America/Argentina/Salta' >America/Argentina/Salta</option><option value='America/Argentina/San_Juan' >America/Argentina/San_Juan</option><option value='America/Argentina/San_Luis' >America/Argentina/San_Luis</option><option value='America/Argentina/Tucuman' >America/Argentina/Tucuman</option><option value='America/Argentina/Ushuaia' >America/Argentina/Ushuaia</option><option value='America/Aruba' >America/Aruba</option><option value='America/Asuncion' >America/Asuncion</option><option value='America/Atikokan' >America/Atikokan</option><option value='America/Atka' >America/Atka</option><option value='America/Bahia' >America/Bahia</option><option value='America/Bahia_Banderas' >America/Bahia_Banderas</option><option value='America/Barbados' >America/Barbados</option><option value='America/Belem' >America/Belem</option><option value='America/Belize' >America/Belize</option><option value='America/Blanc-Sablon' >America/Blanc-Sablon</option><option value='America/Boa_Vista' >America/Boa_Vista</option><option value='America/Bogota' >America/Bogota</option><option value='America/Boise' >America/Boise</option><option value='America/Buenos_Aires' >America/Buenos_Aires</option><option value='America/Cambridge_Bay' >America/Cambridge_Bay</option><option value='America/Campo_Grande' >America/Campo_Grande</option><option value='America/Cancun' >America/Cancun</option><option value='America/Caracas' >America/Caracas</option><option value='America/Catamarca' >America/Catamarca</option><option value='America/Cayenne' >America/Cayenne</option><option value='America/Cayman' >America/Cayman</option><option value='America/Chicago' >America/Chicago</option><option value='America/Chihuahua' >America/Chihuahua</option><option value='America/Ciudad_Juarez' >America/Ciudad_Juarez</option><option value='America/Coral_Harbour' >America/Coral_Harbour</option><option value='America/Cordoba' >America/Cordoba</option><option value='America/Costa_Rica' >America/Costa_Rica</option><option value='America/Coyhaique' >America/Coyhaique</option><option value='America/Creston' >America/Creston</option><option value='America/Cuiaba' >America/Cuiaba</option><option value='America/Curacao' >America/Curacao</option><option value='America/Danmarkshavn' >America/Danmarkshavn</option><option value='America/Dawson' >America/Dawson</option><option value='America/Dawson_Creek' >America/Dawson_Creek</option><option value='America/Denver' >America/Denver</option><option value='America/Detroit' >America/Detroit</option><option value='America/Dominica' >America/Dominica</option><option value='America/Edmonton' >America/Edmonton</option><option value='America/Eirunepe' >America/Eirunepe</option><option value='America/El_Salvador' >America/El_Salvador</option><option value='America/Ensenada' >America/Ensenada</option><option value='America/Fort_Nelson' >America/Fort_Nelson</option><option value='America/Fort_Wayne' >America/Fort_Wayne</option><option value='America/Fortaleza' >America/Fortaleza</option><option value='America/Glace_Bay' >America/Glace_Bay</option><option value='America/Godthab' >America/Godthab</option><option value='America/Goose_Bay' >America/Goose_Bay</option><option value='America/Grand_Turk' >America/Grand_Turk</option><option value='America/Grenada' >America/Grenada</option><option value='America/Guadeloupe' >America/Guadeloupe</option><option value='America/Guatemala' >America/Guatemala</option><option value='America/Guayaquil' >America/Guayaquil</option><option value='America/Guyana' >America/Guyana</option><option value='America/Halifax' >America/Halifax</option><option value='America/Havana' >America/Havana</option><option value='America/Hermosillo' >America/Hermosillo</option><option value='America/Indiana/Indianapolis' >America/Indiana/Indianapolis</option><option value='America/Indiana/Knox' >America/Indiana/Knox</option><option value='America/Indiana/Marengo' >America/Indiana/Marengo</option><option value='America/Indiana/Petersburg' >America/Indiana/Petersburg</option><option value='America/Indiana/Tell_City' >America/Indiana/Tell_City</option><option value='America/Indiana/Vevay' >America/Indiana/Vevay</option><option value='America/Indiana/Vincennes' >America/Indiana/Vincennes</option><option value='America/Indiana/Winamac' >America/Indiana/Winamac</option><option value='America/Indianapolis' >America/Indianapolis</option><option value='America/Inuvik' >America/Inuvik</option><option value='America/Iqaluit' >America/Iqaluit</option><option value='America/Jamaica' >America/Jamaica</option><option value='America/Jujuy' >America/Jujuy</option><option value='America/Juneau' >America/Juneau</option><option value='America/Kentucky/Louisville' >America/Kentucky/Louisville</option><option value='America/Kentucky/Monticello' >America/Kentucky/Monticello</option><option value='America/Knox_IN' >America/Knox_IN</option><option value='America/Kralendijk' >America/Kralendijk</option><option value='America/La_Paz' >America/La_Paz</option><option value='America/Lima' >America/Lima</option><option value='America/Los_Angeles' >America/Los_Angeles</option><option value='America/Louisville' >America/Louisville</option><option value='America/Lower_Princes' >America/Lower_Princes</option><option value='America/Maceio' >America/Maceio</option><option value='America/Managua' >America/Managua</option><option value='America/Manaus' >America/Manaus</option><option value='America/Marigot' >America/Marigot</option><option value='America/Martinique' >America/Martinique</option><option value='America/Matamoros' >America/Matamoros</option><option value='America/Mazatlan' >America/Mazatlan</option><option value='America/Mendoza' >America/Mendoza</option><option value='America/Menominee' >America/Menominee</option><option value='America/Merida' >America/Merida</option><option value='America/Metlakatla' >America/Metlakatla</option><option value='America/Mexico_City' >America/Mexico_City</option><option value='America/Miquelon' >America/Miquelon</option><option value='America/Moncton' >America/Moncton</option><option value='America/Monterrey' >America/Monterrey</option><option value='America/Montevideo' >America/Montevideo</option><option value='America/Montreal' >America/Montreal</option><option value='America/Montserrat' >America/Montserrat</option><option value='America/Nassau' >America/Nassau</option><option value='America/New_York' >America/New_York</option><option value='America/Nipigon' >America/Nipigon</option><option value='America/Nome' >America/Nome</option><option value='America/Noronha' >America/Noronha</option><option value='America/North_Dakota/Beulah' >America/North_Dakota/Beulah</option><option value='America/North_Dakota/Center' >America/North_Dakota/Center</option><option value='America/North_Dakota/New_Salem' >America/North_Dakota/New_Salem</option><option value='America/Nuuk' >America/Nuuk</option><option value='America/Ojinaga' >America/Ojinaga</option><option value='America/Panama' >America/Panama</option><option value='America/Pangnirtung' >America/Pangnirtung</option><option value='America/Paramaribo' >America/Paramaribo</option><option value='America/Phoenix' >America/Phoenix</option><option value='America/Port-au-Prince' >America/Port-au-Prince</option><option value='America/Port_of_Spain' >America/Port_of_Spain</option><option value='America/Porto_Acre' >America/Porto_Acre</option><option value='America/Porto_Velho' >America/Porto_Velho</option><option value='America/Puerto_Rico' >America/Puerto_Rico</option><option value='America/Punta_Arenas' >America/Punta_Arenas</option><option value='America/Rainy_River' >America/Rainy_River</option><option value='America/Rankin_Inlet' >America/Rankin_Inlet</option><option value='America/Recife' >America/Recife</option><option value='America/Regina' >America/Regina</option><option value='America/Resolute' >America/Resolute</option><option value='America/Rio_Branco' >America/Rio_Branco</option><option value='America/Rosario' >America/Rosario</option><option value='America/Santa_Isabel' >America/Santa_Isabel</option><option value='America/Santarem' >America/Santarem</option><option value='America/Santiago' >America/Santiago</option><option value='America/Santo_Domingo' >America/Santo_Domingo</option><option value='America/Sao_Paulo' >America/Sao_Paulo</option><option value='America/Scoresbysund' >America/Scoresbysund</option><option value='America/Shiprock' >America/Shiprock</option><option value='America/Sitka' >America/Sitka</option><option value='America/St_Barthelemy' >America/St_Barthelemy</option><option value='America/St_Johns' >America/St_Johns</option><option value='America/St_Kitts' >America/St_Kitts</option><option value='America/St_Lucia' >America/St_Lucia</option><option value='America/St_Thomas' >America/St_Thomas</option><option value='America/St_Vincent' >America/St_Vincent</option><option value='America/Swift_Current' >America/Swift_Current</option><option value='America/Tegucigalpa' >America/Tegucigalpa</option><option value='America/Thule' >America/Thule</option><option value='America/Thunder_Bay' >America/Thunder_Bay</option><option value='America/Tijuana' >America/Tijuana</option><option value='America/Toronto' >America/Toronto</option><option value='America/Tortola' >America/Tortola</option><option value='America/Vancouver' >America/Vancouver</option><option value='America/Virgin' >America/Virgin</option><option value='America/Whitehorse' >America/Whitehorse</option><option value='America/Winnipeg' >America/Winnipeg</option><option value='America/Yakutat' >America/Yakutat</option><option value='America/Yellowknife' >America/Yellowknife</option><option value='Antarctica/Casey' >Antarctica/Casey</option><option value='Antarctica/Davis' >Antarctica/Davis</option><option value='Antarctica/DumontDUrville' >Antarctica/DumontDUrville</option><option value='Antarctica/Macquarie' >Antarctica/Macquarie</option><option value='Antarctica/Mawson' >Antarctica/Mawson</option><option value='Antarctica/McMurdo' >Antarctica/McMurdo</option><option value='Antarctica/Palmer' >Antarctica/Palmer</option><option value='Antarctica/Rothera' >Antarctica/Rothera</option><option value='Antarctica/South_Pole' >Antarctica/South_Pole</option><option value='Antarctica/Syowa' >Antarctica/Syowa</option><option value='Antarctica/Troll' >Antarctica/Troll</option><option value='Antarctica/Vostok' >Antarctica/Vostok</option><option value='Arctic/Longyearbyen' >Arctic/Longyearbyen</option><option value='Asia/Aden' >Asia/Aden</option><option value='Asia/Almaty' >Asia/Almaty</option><option value='Asia/Amman' >Asia/Amman</option><option value='Asia/Anadyr' >Asia/Anadyr</option><option value='Asia/Aqtau' >Asia/Aqtau</option><option value='Asia/Aqtobe' >Asia/Aqtobe</option><option value='Asia/Ashgabat' >Asia/Ashgabat</option><option value='Asia/Ashkhabad' >Asia/Ashkhabad</option><option value='Asia/Atyrau' >Asia/Atyrau</option><option value='Asia/Baghdad' >Asia/Baghdad</option><option value='Asia/Bahrain' >Asia/Bahrain</option><option value='Asia/Baku' >Asia/Baku</option><option value='Asia/Bangkok' >Asia/Bangkok</option><option value='Asia/Barnaul' >Asia/Barnaul</option><option value='Asia/Beirut' >Asia/Beirut</option><option value='Asia/Bishkek' >Asia/Bishkek</option><option value='Asia/Brunei' >Asia/Brunei</option><option value='Asia/Calcutta' >Asia/Calcutta</option><option value='Asia/Chita' >Asia/Chita</option><option value='Asia/Choibalsan' >Asia/Choibalsan</option><option value='Asia/Chongqing' >Asia/Chongqing</option><option value='Asia/Chungking' >Asia/Chungking</option><option value='Asia/Colombo' >Asia/Colombo</option><option value='Asia/Dacca' >Asia/Dacca</option><option value='Asia/Damascus' >Asia/Damascus</option><option value='Asia/Dhaka' >Asia/Dhaka</option><option value='Asia/Dili' >Asia/Dili</option><option value='Asia/Dubai' >Asia/Dubai</option><option value='Asia/Dushanbe' >Asia/Dushanbe</option><option value='Asia/Famagusta' >Asia/Famagusta</option><option value='Asia/Gaza' >Asia/Gaza</option><option value='Asia/Harbin' >Asia/Harbin</option><option value='Asia/Hebron' >Asia/Hebron</option><option value='Asia/Ho_Chi_Minh' >Asia/Ho_Chi_Minh</option><option value='Asia/Hong_Kong' >Asia/Hong_Kong</option><option value='Asia/Hovd' >Asia/Hovd</option><option value='Asia/Irkutsk' >Asia/Irkutsk</option><option value='Asia/Istanbul' >Asia/Istanbul</option><option value='Asia/Jakarta' >Asia/Jakarta</option><option value='Asia/Jayapura' >Asia/Jayapura</option><option value='Asia/Jerusalem' >Asia/Jerusalem</option><option value='Asia/Kabul' >Asia/Kabul</option><option value='Asia/Kamchatka' >Asia/Kamchatka</option><option value='Asia/Karachi' >Asia/Karachi</option><option value='Asia/Kashgar' >Asia/Kashgar</option><option value='Asia/Kathmandu' >Asia/Kathmandu</option><option value='Asia/Katmandu' >Asia/Katmandu</option><option value='Asia/Khandyga' >Asia/Khandyga</option><option value='Asia/Kolkata' >Asia/Kolkata</option><option value='Asia/Krasnoyarsk' >Asia/Krasnoyarsk</option><option value='Asia/Kuala_Lumpur' >Asia/Kuala_Lumpur</option><option value='Asia/Kuching' >Asia/Kuching</option><option value='Asia/Kuwait' >Asia/Kuwait</option><option value='Asia/Macao' >Asia/Macao</option><option value='Asia/Macau' >Asia/Macau</option><option value='Asia/Magadan' >Asia/Magadan</option><option value='Asia/Makassar' >Asia/Makassar</option><option value='Asia/Manila' >Asia/Manila</option><option value='Asia/Muscat' >Asia/Muscat</option><option value='Asia/Nicosia' >Asia/Nicosia</option><option value='Asia/Novokuznetsk' >Asia/Novokuznetsk</option><option value='Asia/Novosibirsk' >Asia/Novosibirsk</option><option value='Asia/Omsk' >Asia/Omsk</option><option value='Asia/Oral' >Asia/Oral</option><option value='Asia/Phnom_Penh' >Asia/Phnom_Penh</option><option value='Asia/Pontianak' >Asia/Pontianak</option><option value='Asia/Pyongyang' >Asia/Pyongyang</option><option value='Asia/Qatar' >Asia/Qatar</option><option value='Asia/Qostanay' >Asia/Qostanay</option><option value='Asia/Qyzylorda' >Asia/Qyzylorda</option><option value='Asia/Rangoon' >Asia/Rangoon</option><option value='Asia/Riyadh' >Asia/Riyadh</option><option value='Asia/Saigon' >Asia/Saigon</option><option value='Asia/Sakhalin' >Asia/Sakhalin</option><option value='Asia/Samarkand' >Asia/Samarkand</option><option value='Asia/Seoul' >Asia/Seoul</option><option value='Asia/Shanghai' >Asia/Shanghai</option><option value='Asia/Singapore' >Asia/Singapore</option><option value='Asia/Srednekolymsk' >Asia/Srednekolymsk</option><option value='Asia/Taipei' >Asia/Taipei</option><option value='Asia/Tashkent' >Asia/Tashkent</option><option value='Asia/Tbilisi' >Asia/Tbilisi</option><option value='Asia/Tehran' >Asia/Tehran</option><option value='Asia/Tel_Aviv' >Asia/Tel_Aviv</option><option value='Asia/Thimbu' >Asia/Thimbu</option><option value='Asia/Thimphu' >Asia/Thimphu</option><option value='Asia/Tokyo' >Asia/Tokyo</option><option value='Asia/Tomsk' >Asia/Tomsk</option><option value='Asia/Ujung_Pandang' >Asia/Ujung_Pandang</option><option value='Asia/Ulaanbaatar' >Asia/Ulaanbaatar</option><option value='Asia/Ulan_Bator' >Asia/Ulan_Bator</option><option value='Asia/Urumqi' >Asia/Urumqi</option><option value='Asia/Ust-Nera' >Asia/Ust-Nera</option><option value='Asia/Vientiane' >Asia/Vientiane</option><option value='Asia/Vladivostok' >Asia/Vladivostok</option><option value='Asia/Yakutsk' >Asia/Yakutsk</option><option value='Asia/Yangon' >Asia/Yangon</option><option value='Asia/Yekaterinburg' >Asia/Yekaterinburg</option><option value='Asia/Yerevan' >Asia/Yerevan</option><option value='Atlantic/Azores' >Atlantic/Azores</option><option value='Atlantic/Bermuda' >Atlantic/Bermuda</option><option value='Atlantic/Canary' >Atlantic/Canary</option><option value='Atlantic/Cape_Verde' >Atlantic/Cape_Verde</option><option value='Atlantic/Faeroe' >Atlantic/Faeroe</option><option value='Atlantic/Faroe' >Atlantic/Faroe</option><option value='Atlantic/Jan_Mayen' >Atlantic/Jan_Mayen</option><option value='Atlantic/Madeira' >Atlantic/Madeira</option><option value='Atlantic/Reykjavik' >Atlantic/Reykjavik</option><option value='Atlantic/South_Georgia' >Atlantic/South_Georgia</option><option value='Atlantic/St_Helena' >Atlantic/St_Helena</option><option value='Atlantic/Stanley' >Atlantic/Stanley</option><option value='Australia/ACT' >Australia/ACT</option><option value='Australia/Adelaide' >Australia/Adelaide</option><option value='Australia/Brisbane' >Australia/Brisbane</option><option value='Australia/Broken_Hill' >Australia/Broken_Hill</option><option value='Australia/Canberra' >Australia/Canberra</option><option value='Australia/Currie' >Australia/Currie</option><option value='Australia/Darwin' >Australia/Darwin</option><option value='Australia/Eucla' >Australia/Eucla</option><option value='Australia/Hobart' >Australia/Hobart</option><option value='Australia/LHI' >Australia/LHI</option><option value='Australia/Lindeman' >Australia/Lindeman</option><option value='Australia/Lord_Howe' >Australia/Lord_Howe</option><option value='Australia/Melbourne' >Australia/Melbourne</option><option value='Australia/NSW' >Australia/NSW</option><option value='Australia/North' >Australia/North</option><option value='Australia/Perth' >Australia/Perth</option><option value='Australia/Queensland' >Australia/Queensland</option><option value='Australia/South' >Australia/South</option><option value='Australia/Sydney' >Australia/Sydney</option><option value='Australia/Tasmania' >Australia/Tasmania</option><option value='Australia/Victoria' >Australia/Victoria</option><option value='Australia/West' >Australia/West</option><option value='Australia/Yancowinna' >Australia/Yancowinna</option><option value='Brazil/Acre' >Brazil/Acre</option><option value='Brazil/DeNoronha' >Brazil/DeNoronha</option><option value='Brazil/East' >Brazil/East</option><option value='Brazil/West' >Brazil/West</option><option value='CET' >CET</option><option value='CST6CDT' >CST6CDT</option><option value='Canada/Atlantic' >Canada/Atlantic</option><option value='Canada/Central' >Canada/Central</option><option value='Canada/Eastern' >Canada/Eastern</option><option value='Canada/Mountain' >Canada/Mountain</option><option value='Canada/Newfoundland' >Canada/Newfoundland</option><option value='Canada/Pacific' >Canada/Pacific</option><option value='Canada/Saskatchewan' >Canada/Saskatchewan</option><option value='Canada/Yukon' >Canada/Yukon</option><option value='Chile/Continental' >Chile/Continental</option><option value='Chile/EasterIsland' >Chile/EasterIsland</option><option value='Cuba' >Cuba</option><option value='EET' >EET</option><option value='EST' >EST</option><option value='EST5EDT' >EST5EDT</option><option value='Egypt' >Egypt</option><option value='Eire' >Eire</option><option value='Etc/GMT' >Etc/GMT</option><option value='Etc/GMT+0' >Etc/GMT+0</option><option value='Etc/GMT+1' >Etc/GMT+1</option><option value='Etc/GMT+10' >Etc/GMT+10</option><option value='Etc/GMT+11' >Etc/GMT+11</option><option value='Etc/GMT+12' >Etc/GMT+12</option><option value='Etc/GMT+2' >Etc/GMT+2</option><option value='Etc/GMT+3' >Etc/GMT+3</option><option value='Etc/GMT+4' >Etc/GMT+4</option><option value='Etc/GMT+5' >Etc/GMT+5</option><option value='Etc/GMT+6' >Etc/GMT+6</option><option value='Etc/GMT+7' >Etc/GMT+7</option><option value='Etc/GMT+8' >Etc/GMT+8</option><option value='Etc/GMT+9' >Etc/GMT+9</option><option value='Etc/GMT-0' >Etc/GMT-0</option><option value='Etc/GMT-1' >Etc/GMT-1</option><option value='Etc/GMT-10' >Etc/GMT-10</option><option value='Etc/GMT-11' >Etc/GMT-11</option><option value='Etc/GMT-12' >Etc/GMT-12</option><option value='Etc/GMT-13' >Etc/GMT-13</option><option value='Etc/GMT-14' >Etc/GMT-14</option><option value='Etc/GMT-2' >Etc/GMT-2</option><option value='Etc/GMT-3' >Etc/GMT-3</option><option value='Etc/GMT-4' >Etc/GMT-4</option><option value='Etc/GMT-5' >Etc/GMT-5</option><option value='Etc/GMT-6' >Etc/GMT-6</option><option value='Etc/GMT-7' >Etc/GMT-7</option><option value='Etc/GMT-8' >Etc/GMT-8</option><option value='Etc/GMT-9' >Etc/GMT-9</option><option value='Etc/GMT0' >Etc/GMT0</option><option value='Etc/Greenwich' >Etc/Greenwich</option><option value='Etc/UCT' >Etc/UCT</option><option value='Etc/UTC' >Etc/UTC</option><option value='Etc/Universal' >Etc/Universal</option><option value='Etc/Zulu' >Etc/Zulu</option><option value='Europe/Amsterdam' >Europe/Amsterdam</option><option value='Europe/Andorra' >Europe/Andorra</option><option value='Europe/Astrakhan' >Europe/Astrakhan</option><option value='Europe/Athens' >Europe/Athens</option><option value='Europe/Belfast' >Europe/Belfast</option><option value='Europe/Belgrade' >Europe/Belgrade</option><option value='Europe/Berlin' >Europe/Berlin</option><option value='Europe/Bratislava' >Europe/Bratislava</option><option value='Europe/Brussels' >Europe/Brussels</option><option value='Europe/Bucharest' >Europe/Bucharest</option><option value='Europe/Budapest' >Europe/Budapest</option><option value='Europe/Busingen' >Europe/Busingen</option><option value='Europe/Chisinau' >Europe/Chisinau</option><option value='Europe/Copenhagen' >Europe/Copenhagen</option><option value='Europe/Dublin' >Europe/Dublin</option><option value='Europe/Gibraltar' >Europe/Gibraltar</option><option value='Europe/Guernsey' >Europe/Guernsey</option><option value='Europe/Helsinki' >Europe/Helsinki</option><option value='Europe/Isle_of_Man' >Europe/Isle_of_Man</option><option value='Europe/Istanbul' >Europe/Istanbul</option><option value='Europe/Jersey' >Europe/Jersey</option><option value='Europe/Kaliningrad' >Europe/Kaliningrad</option><option value='Europe/Kiev' >Europe/Kiev</option><option value='Europe/Kirov' >Europe/Kirov</option><option value='Europe/Kyiv' >Europe/Kyiv</option><option value='Europe/Lisbon' >Europe/Lisbon</option><option value='Europe/Ljubljana' >Europe/Ljubljana</option><option value='Europe/London'  selected>Europe/London</option><option value='Europe/Luxembourg' >Europe/Luxembourg</option><option value='Europe/Madrid' >Europe/Madrid</option><option value='Europe/Malta' >Europe/Malta</option><option value='Europe/Mariehamn' >Europe/Mariehamn</option><option value='Europe/Minsk' >Europe/Minsk</option><option value='Europe/Monaco' >Europe/Monaco</option><option value='Europe/Moscow' >Europe/Moscow</option><option value='Europe/Nicosia' >Europe/Nicosia</option><option value='Europe/Oslo' >Europe/Oslo</option><option value='Europe/Paris' >Europe/Paris</option><option value='Europe/Podgorica' >Europe/Podgorica</option><option value='Europe/Prague' >Europe/Prague</option><option value='Europe/Riga' >Europe/Riga</option><option value='Europe/Rome' >Europe/Rome</option><option value='Europe/Samara' >Europe/Samara</option><option value='Europe/San_Marino' >Europe/San_Marino</option><option value='Europe/Sarajevo' >Europe/Sarajevo</option><option value='Europe/Saratov' >Europe/Saratov</option><option value='Europe/Simferopol' >Europe/Simferopol</option><option value='Europe/Skopje' >Europe/Skopje</option><option value='Europe/Sofia' >Europe/Sofia</option><option value='Europe/Stockholm' >Europe/Stockholm</option><option value='Europe/Tallinn' >Europe/Tallinn</option><option value='Europe/Tirane' >Europe/Tirane</option><option value='Europe/Tiraspol' >Europe/Tiraspol</option><option value='Europe/Ulyanovsk' >Europe/Ulyanovsk</option><option value='Europe/Uzhgorod' >Europe/Uzhgorod</option><option value='Europe/Vaduz' >Europe/Vaduz</option><option value='Europe/Vatican' >Europe/Vatican</option><option value='Europe/Vienna' >Europe/Vienna</option><option value='Europe/Vilnius' >Europe/Vilnius</option><option value='Europe/Volgograd' >Europe/Volgograd</option><option value='Europe/Warsaw' >Europe/Warsaw</option><option value='Europe/Zagreb' >Europe/Zagreb</option><option value='Europe/Zaporozhye' >Europe/Zaporozhye</option><option value='Europe/Zurich' >Europe/Zurich</option><option value='Factory' >Factory</option><option value='GB' >GB</option><option value='GB-Eire' >GB-Eire</option><option value='GMT' >GMT</option><option value='GMT+0' >GMT+0</option><option value='GMT-0' >GMT-0</option><option value='GMT0' >GMT0</option><option value='Greenwich' >Greenwich</option><option value='HST' >HST</option><option value='Hongkong' >Hongkong</option><option value='Iceland' >Iceland</option><option value='Indian/Antananarivo' >Indian/Antananarivo</option><option value='Indian/Chagos' >Indian/Chagos</option><option value='Indian/Christmas' >Indian/Christmas</option><option value='Indian/Cocos' >Indian/Cocos</option><option value='Indian/Comoro' >Indian/Comoro</option><option value='Indian/Kerguelen' >Indian/Kerguelen</option><option value='Indian/Mahe' >Indian/Mahe</option><option value='Indian/Maldives' >Indian/Maldives</option><option value='Indian/Mauritius' >Indian/Mauritius</option><option value='Indian/Mayotte' >Indian/Mayotte</option><option value='Indian/Reunion' >Indian/Reunion</option><option value='Iran' >Iran</option><option value='Israel' >Israel</option><option value='Jamaica' >Jamaica</option><option value='Japan' >Japan</option><option value='Kwajalein' >Kwajalein</option><option value='Libya' >Libya</option><option value='MET' >MET</option><option value='MST' >MST</option><option value='MST7MDT' >MST7MDT</option><option value='Mexico/BajaNorte' >Mexico/BajaNorte</option><option value='Mexico/BajaSur' >Mexico/BajaSur</option><option value='Mexico/General' >Mexico/General</option><option value='NZ' >NZ</option><option value='NZ-CHAT' >NZ-CHAT</option><option value='Navajo' >Navajo</option><option value='PRC' >PRC</option><option value='PST8PDT' >PST8PDT</option><option value='Pacific/Apia' >Pacific/Apia</option><option value='Pacific/Auckland' >Pacific/Auckland</option><option value='Pacific/Bougainville' >Pacific/Bougainville</option><option value='Pacific/Chatham' >Pacific/Chatham</option><option value='Pacific/Chuuk' >Pacific/Chuuk</option><option value='Pacific/Easter' >Pacific/Easter</option><option value='Pacific/Efate' >Pacific/Efate</option><option value='Pacific/Enderbury' >Pacific/Enderbury</option><option value='Pacific/Fakaofo' >Pacific/Fakaofo</option><option value='Pacific/Fiji' >Pacific/Fiji</option><option value='Pacific/Funafuti' >Pacific/Funafuti</option><option value='Pacific/Galapagos' >Pacific/Galapagos</option><option value='Pacific/Gambier' >Pacific/Gambier</option><option value='Pacific/Guadalcanal' >Pacific/Guadalcanal</option><option value='Pacific/Guam' >Pacific/Guam</option><option value='Pacific/Honolulu' >Pacific/Honolulu</option><option value='Pacific/Johnston' >Pacific/Johnston</option><option value='Pacific/Kanton' >Pacific/Kanton</option><option value='Pacific/Kiritimati' >Pacific/Kiritimati</option><option value='Pacific/Kosrae' >Pacific/Kosrae</option><option value='Pacific/Kwajalein' >Pacific/Kwajalein</option><option value='Pacific/Majuro' >Pacific/Majuro</option><option value='Pacific/Marquesas' >Pacific/Marquesas</option><option value='Pacific/Midway' >Pacific/Midway</option><option value='Pacific/Nauru' >Pacific/Nauru</option><option value='Pacific/Niue' >Pacific/Niue</option><option value='Pacific/Norfolk' >Pacific/Norfolk</option><option value='Pacific/Noumea' >Pacific/Noumea</option><option value='Pacific/Pago_Pago' >Pacific/Pago_Pago</option><option value='Pacific/Palau' >Pacific/Palau</option><option value='Pacific/Pitcairn' >Pacific/Pitcairn</option><option value='Pacific/Pohnpei' >Pacific/Pohnpei</option><option value='Pacific/Ponape' >Pacific/Ponape</option><option value='Pacific/Port_Moresby' >Pacific/Port_Moresby</option><option value='Pacific/Rarotonga' >Pacific/Rarotonga</option><option value='Pacific/Saipan' >Pacific/Saipan</option><option value='Pacific/Samoa' >Pacific/Samoa</option><option value='Pacific/Tahiti' >Pacific/Tahiti</option><option value='Pacific/Tarawa' >Pacific/Tarawa</option><option value='Pacific/Tongatapu' >Pacific/Tongatapu</option><option value='Pacific/Truk' >Pacific/Truk</option><option value='Pacific/Wake' >Pacific/Wake</option><option value='Pacific/Wallis' >Pacific/Wallis</option><option value='Pacific/Yap' >Pacific/Yap</option><option value='Poland' >Poland</option><option value='Portugal' >Portugal</option><option value='ROC' >ROC</option><option value='ROK' >ROK</option><option value='Singapore' >Singapore</option><option value='Turkey' >Turkey</option><option value='UCT' >UCT</option><option value='US/Alaska' >US/Alaska</option><option value='US/Aleutian' >US/Aleutian</option><option value='US/Arizona' >US/Arizona</option><option value='US/Central' >US/Central</option><option value='US/East-Indiana' >US/East-Indiana</option><option value='US/Eastern' >US/Eastern</option><option value='US/Hawaii' >US/Hawaii</option><option value='US/Indiana-Starke' >US/Indiana-Starke</option><option value='US/Michigan' >US/Michigan</option><option value='US/Mountain' >US/Mountain</option><option value='US/Pacific' >US/Pacific</option><option value='US/Samoa' >US/Samoa</option><option value='UTC' >UTC</option><option value='Universal' >Universal</option><option value='W-SU' >W-SU</option><option value='WET' >WET</option><option value='Zulu' >Zulu</option>							</select>
					</div>
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Backup</summary>

				<h3>General Settings</h3>
					<input type="checkbox" id="conf_BACKUP_CHECKSUM" name="conf_BACKUP_CHECKSUM">
					<label for="conf_BACKUP_CHECKSUM">Compare checksum?</label><br />
					Consider file checksums when comparing source and destination. (Does not apply to camera transfers.)<br />
					<strong>Be careful, this can significantly slow down transfers and significantly increase CPU usage. When syncing with cloud storage, this generates additional network traffic. Especially if there are already many identical files in the source and destination, synchronization can take a very long time without any transfers occurring.</strong><br />
					<br />
					<input type="checkbox" id="conf_BACKUP_MOVE_FILES" name="conf_BACKUP_MOVE_FILES">
					<label for="conf_BACKUP_MOVE_FILES">Move files instead of copying them?</label><br />
					<br />
					<input type="checkbox" id="conf_BACKUP_RENAME_FILES" name="conf_BACKUP_RENAME_FILES">
					<label for="conf_BACKUP_RENAME_FILES">Rename files<br /></label><br />
					An attempt is made to read the creation date from all media files on local storage devices. If this is possible, the file is renamed according to the following pattern:<br>
For example, &quot;Image0123.jpg&quot; becomes &quot;2024-10-18_23-47-26_-_Image.jpg&quot;.<br />
					<strong>Attention! The files should then be deleted from the source. Otherwise they will be transferred again during the next backup, renamed and replacing the version from the previous backup.</strong><br />
					<br />
					<input type="checkbox" id="conf_POWER_OFF" name="conf_POWER_OFF">
					<label for="conf_POWER_OFF">Power down after backup</label><br />

					<h4>Target partition requirements</h3>
						<label for="conf_BACKUP_TARGET_SIZE_MIN">What is the minimum size of the target partition to be accepted?</label><br />
						<select name="conf_BACKUP_TARGET_SIZE_MIN" id="conf_BACKUP_TARGET_SIZE_MIN">
							<option value="0"  selected>accept all</option><option value="104857600" >100 MB</option><option value="536870912" >512 MB</option><option value="1073741824" >1 GB</option><option value="549755813888" >512 GB</option><option value="1099511627776" >1 TB</option>						</select>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Directories to be backed up on smartphones and cameras</summary>
						<label for="conf_BACKUP_CAMERA_FOLDER_MASK">Here you can specify which directories are to be backed up by which cameras or smartphones. <br>
Entries here have the form: <br>
&quot; CAMERA: PATH &quot; <br>
The name of a connected camera can be found on the &quot; System &quot; page under &quot; Camera / Smartphone &quot ;. <br>
If an instruction is to apply to all cameras, &quot; * &quot; (without further additions) can be used as a joker for all devices. <br>
The path does not have to be specified in full. It is enough to use a unique part of it. <br>
Examples: <br>
&quot;*:DCIM &quot; (all cameras: all folders that contain &quot; DCIM &quot;) <br>
&quot;*:DCIM; MyCamera: IMAGES &quot; (also from the &quot; MyCamera &quot; camera: all folders containing &quot; IMAGES &quot;) <br>
&quot;&quot; (Field remains empty: Back up all folders of all cameras.) <br>
<br>
Instead of searching for a pattern, absolute paths can also be specified. These must always be marked with &quot;! / &quot; start:
&quot;MyCamera:!/store_00020002/DCIM&quot; <br>
As soon as an absolute folder applies to a camera, there is no longer a search for a pattern for it. This saves time.
More information at <a href="https://github.com/outdoorbits/little-backup-box/wiki/04.-Setup">wiki</a></label><br />
						<textarea  id="conf_BACKUP_CAMERA_FOLDER_MASK" name="conf_BACKUP_CAMERA_FOLDER_MASK" rows="8" style="width: 100%;">*:DCIM</textarea>
				</details>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Default backup mode</summary>
						<label for="BACKUP_MODE">Select the default backup-mode:</label><br />

						<select name="BACKUP_MODE" id="BACKUP_MODE">
							<option value="none none"  selected>no automatic backup</option>

	<!-- to USB -->
							<optgroup label="&rarr; USB storage">
								<option value="anyusb usb" >any USB (cameras and storage) &rarr; USB storage</option>
								<option value="usb usb" >USB storage &rarr; USB storage</option>
																<option value="internal usb" >int. storage &rarr; USB storage</option>
								<option value="camera usb" >camera &rarr; USB storage</option>
								<option value="ftp usb" >LBBs FTP server &rarr; USB storage</option>
							</optgroup>

	<!-- to NVMe -->

							
	<!-- to internal -->
							<optgroup label="&rarr; int. storage">
								<option value="anyusb internal" >any USB (cameras and storage) &rarr; int. storage</option>
								<option value="usb internal" >USB storage &rarr; int. storage</option>
																<option value="camera internal" >camera &rarr; int. storage</option>
								<option value="ftp internal" >LBBs FTP server &rarr; int. storage</option>
							</optgroup>

	<!-- to rsync server -->
													</select>

					<h4>Settings for the primary standard backup</h4>

						<h5>Copy or move files</h5>
							<input type="checkbox" id="conf_BACKUP_DEFAULT_MOVE_FILES" name="conf_BACKUP_DEFAULT_MOVE_FILES">
							<label for="conf_BACKUP_DEFAULT_MOVE_FILES">Move files instead of copying them?</label><br />

				</details>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Default secondary backup mode (network backups only)</summary>
						<label for="BACKUP_MODE_2">Select a secondary default backup-mode to run after the primary:</label><br />

						
	<select name="BACKUP_MODE_2" id="BACKUP_MODE_2">
		<option value="none none"  selected>no automatic backup</option>
			</select>

	
						<h4>Settings for the secondary standard backup</h4>

							<h5>Copy or move files</h5>
								<input type="checkbox" id="conf_BACKUP_DEFAULT2_MOVE_FILES" name="conf_BACKUP_DEFAULT2_MOVE_FILES">
								<label for="conf_BACKUP_DEFAULT2_MOVE_FILES">Move files instead of copying them?</label><br />
				</details>
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Energy saving options</summary>

				<h3>Power down after idle-time</h3>
					<label for="conf_POWER_OFF_IDLE_TIME">Select the idle time after which the system should be stopped.</label><br />
					<select name="conf_POWER_OFF_IDLE_TIME" id="conf_POWER_OFF_IDLE_TIME">
						<option value="0" selected>never</option><option value="2">2 minutes</option><option value="5">5 minutes</option><option value="10">10 minutes</option><option value="15">15 minutes</option><option value="20">20 minutes</option><option value="30">30 minutes</option>
					</select>

			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">View</summary>

				<h3>Theme</h3>
					<label for="conf_THEME">Select a color theme:</label><br />
						<select name="conf_THEME" id="conf_THEME">
						<option value="light" >light</option>
						<option value="dark"  selected>dark</option>
						<option value="sepia" >sepia</option>
					</select>

				<h3>Background-image</h3>
					<label for="conf_BACKGROUND_IMAGE">You can select an image for your background. Please store own images in &quot;/media/backgroundimages&quot;.</label><br />
						<select name="conf_BACKGROUND_IMAGE" id="conf_BACKGROUND_IMAGE">
							<option value=""  selected>none</option>
							<option value='lbb/paris.jpg' >lbb/paris.jpg</option><option value='lbb/river.jpg' >lbb/river.jpg</option><option value='lbb/andromeda.jpg' >lbb/andromeda.jpg</option><option value='lbb/river-fog.jpg' >lbb/river-fog.jpg</option>						</select>

				<h3>Popup-messages</h3>
					<input type="checkbox" id="conf_POPUP_MESSAGES" name="conf_POPUP_MESSAGES" checked>
					<label for="conf_POPUP_MESSAGES">Allow popup-messages.</label><br />

			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Display</summary>

				<h3>Display behavior</h3>
					<div>
						<input type="checkbox" id="conf_DISP" name="conf_DISP">
						<label for="conf_DISP">Is a display connected and should it be used?</label><br />
					</div>

					<div>
						<label for="conf_DISP_FONT_SIZE">Font size</label><br />
							<select name="conf_DISP_FONT_SIZE" id="conf_DISP_FONT_SIZE">
								<option value='10' >10</option><option value='12'  selected>12</option><option value='14' >14</option><option value='16' >16</option>							</select>
					</div>

					<div>
						<label for="conf_DISP_FRAME_TIME">Minimum display time per frame in seconds</label><br />
							<select name="conf_DISP_FRAME_TIME" id="conf_DISP_FRAME_TIME">
								<option value='0.1' >0.1</option><option value='0.25' >0.25</option><option value='0.5' >0.5</option><option value='1'  selected>1</option><option value='1.5' >1.5</option><option value='2' >2</option><option value='2.5' >2.5</option><option value='3' >3</option>							</select>
					</div>

					<div>
						<label for="conf_DISP_CONTRAST">Contrast</label><br />
						<input type="range" id="conf_DISP_CONTRAST" name="conf_DISP_CONTRAST" style="width: 50%;" min="1" max="255" step="1" value="255">
					</div>

					<div>
						<input type="checkbox" id="conf_DISP_IP_REPEAT" name="conf_DISP_IP_REPEAT" checked>
						<label for="conf_DISP_IP_REPEAT">Print IP every minute.</label><br />
						<br />
						<input type="checkbox" id="conf_DISP_SHOW_STATUSBAR" name="conf_DISP_SHOW_STATUSBAR" checked>
						<label for="conf_DISP_SHOW_STATUSBAR">Show status bar</label><br />
						<br />
						<label for="conf_DISP_FRAME_TIME_IP">Minimum display time of the IP in seconds</label><br />
							<select name="conf_DISP_FRAME_TIME_IP" id="conf_DISP_FRAME_TIME_IP">
								<option value='1' >1</option><option value='1.5' >1.5</option><option value='2' >2</option><option value='2.5' >2.5</option><option value='3'  selected>3</option><option value='4' >4</option><option value='5' >5</option><option value='7' >7</option><option value='10' >10</option>							</select>
					</div>

					<div>
						<h4>Color selection when using a color display</h4>

						
							<label for="conf_DISP_COLOR_TEXT">Default font color</label><br />
								<select name="conf_DISP_COLOR_TEXT" id="conf_DISP_COLOR_TEXT">
									<option value='blue' >blue</option><option value='green' >green</option><option value='red' >red</option><option value='white' >white</option><option value='yellow' >yellow</option><option value='orange' >orange</option><option value='lightgrey' >light grey</option><option value='grey'  selected>grey</option><option value='black' >black</option>								</select>
					</div>

					<div>
						<label for="conf_DISP_COLOR_HIGH">Font color for highlighted text</label><br />
							<select name="conf_DISP_COLOR_HIGH" id="conf_DISP_COLOR_HIGH">
								<option value='blue' >blue</option><option value='green' >green</option><option value='red' >red</option><option value='white'  selected>white</option><option value='yellow' >yellow</option><option value='orange' >orange</option><option value='lightgrey' >light grey</option><option value='grey' >grey</option><option value='black' >black</option>							</select>
					</div>

					<div>
						<label for="conf_DISP_COLOR_ALERT">Font color for warnings</label><br />
							<select name="conf_DISP_COLOR_ALERT" id="conf_DISP_COLOR_ALERT">
								<option value='blue' >blue</option><option value='green' >green</option><option value='red' >red</option><option value='white' >white</option><option value='yellow' >yellow</option><option value='orange'  selected>orange</option><option value='lightgrey' >light grey</option><option value='grey' >grey</option><option value='black' >black</option>							</select>
					</div>

					<div>
						<label for="conf_DISP_COLOR_BACKGROUND">Background color</label><br />
							<select name="conf_DISP_COLOR_BACKGROUND" id="conf_DISP_COLOR_BACKGROUND">
								<option value='blue' >blue</option><option value='green' >green</option><option value='red' >red</option><option value='white' >white</option><option value='yellow' >yellow</option><option value='orange' >orange</option><option value='lightgrey' >light grey</option><option value='grey' >grey</option><option value='black'  selected>black</option>							</select>
					</div>

					<div>
						<h4>Display backlight</h4>

							<div>
								<input type="checkbox" id="conf_DISP_BACKLIGHT_ENABLED" name="conf_DISP_BACKLIGHT_ENABLED" checked>
								<label for="conf_DISP_BACKLIGHT_ENABLED">Activate display backlight (if available)</label><br />
							<div>
					</div>

					<div>
						<h4>Rotate screen</h4>

						<label for="conf_DISP_ROTATE">Display rotation</label><br />
							<select name="conf_DISP_ROTATE" id="conf_DISP_ROTATE">
								<option value='0'  selected>0</option><option value='2' >180</option>							</select>
					</div>

				<h3>Hardware</h3>

					<div>
						<label for="conf_DISP_DRIVER">Display driver</label><br />
							<select name="conf_DISP_DRIVER" id="conf_DISP_DRIVER">
								<option value='none' >none</option><option value='SSD1306'  selected>SSD1306</option><option value='SSD1309' >SSD1309</option><option value='SSD1322' >SSD1322</option><option value='SSD1331' >SSD1331</option><option value='SH1106' >SH1106</option><option value='ST7735' >ST7735</option><option value='ST7735 WAVESHARE LCD display HAT' >ST7735 WAVESHARE LCD display HAT</option>							</select>
					</div>

					<div>
						<h4>Interface for the display</h4>
							<label for="conf_DISP_CONNECTION">Which interface should be used?</label><br />
								<select name="conf_DISP_CONNECTION" id="conf_DISP_CONNECTION">
									<option value='I2C'  selected>I2C</option><option value='SPI' >SPI</option>								</select>
					</div>

					<div>
						<h4>I2C display configuration</h4>

							<label for="conf_DISP_I2C_ADDRESS">i2c address of the display</label><br />

																<input type="radio" id="conf_DISP_I2C_ADDRESS_0x3c" name="conf_DISP_I2C_ADDRESS" value="0x3c" checked>
									<label for="conf_DISP_I2C_ADDRESS_0x3c">0x3c </label><br />
																<input type="radio" id="conf_DISP_I2C_ADDRESS_0x3d" name="conf_DISP_I2C_ADDRESS" value="0x3d">
									<label for="conf_DISP_I2C_ADDRESS_0x3d">0x3d </label><br />
												</div>

					<div>
						<h4>SPI display configuration</h4>
							<label for="conf_DISP_SPI_PORT">SPI port</label><br />

																		<input type="radio" id="conf_DISP_SPI_PORT_0" name="conf_DISP_SPI_PORT" value="0" checked>
									<label for="conf_DISP_SPI_PORT_0">0</label><br />
																<input type="radio" id="conf_DISP_SPI_PORT_1" name="conf_DISP_SPI_PORT" value="1">
									<label for="conf_DISP_SPI_PORT_1">1</label><br />
												</div>

					<div>
						<h4>Additional display settings</h4>

						<div>
							<label for="conf_DISP_RESOLUTION_X">Horizontal resolution (pixels)</label><br />
								<select name="conf_DISP_RESOLUTION_X" id="conf_DISP_RESOLUTION_X">
									<option value='96' >96</option><option value='128'  selected>128</option><option value='160' >160</option><option value='250' >250</option>								</select>
						</div>

						<div>
							<label for="conf_DISP_RESOLUTION_Y">Vertical resolution (pixels)</label><br />
								<select name="conf_DISP_RESOLUTION_Y" id="conf_DISP_RESOLUTION_Y">
									<option value='32' >32</option><option value='64'  selected>64</option><option value='80' >80</option><option value='122' >122</option><option value='128' >128</option>								</select>
						</div>

						<div>
							<label for="conf_DISP_OFFSET_X">Display shift horizontally (in pixels)</label><br />
								<select name="conf_DISP_OFFSET_X" id="conf_DISP_OFFSET_X">
									<option value='-30' >-30</option><option value='-29' >-29</option><option value='-28' >-28</option><option value='-27' >-27</option><option value='-26' >-26</option><option value='-25' >-25</option><option value='-24' >-24</option><option value='-23' >-23</option><option value='-22' >-22</option><option value='-21' >-21</option><option value='-20' >-20</option><option value='-19' >-19</option><option value='-18' >-18</option><option value='-17' >-17</option><option value='-16' >-16</option><option value='-15' >-15</option><option value='-14' >-14</option><option value='-13' >-13</option><option value='-12' >-12</option><option value='-11' >-11</option><option value='-10' >-10</option><option value='-9' >-9</option><option value='-8' >-8</option><option value='-7' >-7</option><option value='-6' >-6</option><option value='-5' >-5</option><option value='-4' >-4</option><option value='-3' >-3</option><option value='-2' >-2</option><option value='-1' >-1</option><option value='0'  selected>0</option><option value='1' >1</option><option value='2' >2</option><option value='3' >3</option><option value='4' >4</option><option value='5' >5</option><option value='6' >6</option><option value='7' >7</option><option value='8' >8</option><option value='9' >9</option><option value='10' >10</option><option value='11' >11</option><option value='12' >12</option><option value='13' >13</option><option value='14' >14</option><option value='15' >15</option><option value='16' >16</option><option value='17' >17</option><option value='18' >18</option><option value='19' >19</option><option value='20' >20</option><option value='21' >21</option><option value='22' >22</option><option value='23' >23</option><option value='24' >24</option><option value='25' >25</option><option value='26' >26</option><option value='27' >27</option><option value='28' >28</option><option value='29' >29</option><option value='30' >30</option>								</select>
						</div>

						<div>
							<label for="conf_DISP_OFFSET_Y">Display shift vertically (in pixels)</label><br />
								<select name="conf_DISP_OFFSET_Y" id="conf_DISP_OFFSET_Y">
									<option value='-30' >-30</option><option value='-29' >-29</option><option value='-28' >-28</option><option value='-27' >-27</option><option value='-26' >-26</option><option value='-25' >-25</option><option value='-24' >-24</option><option value='-23' >-23</option><option value='-22' >-22</option><option value='-21' >-21</option><option value='-20' >-20</option><option value='-19' >-19</option><option value='-18' >-18</option><option value='-17' >-17</option><option value='-16' >-16</option><option value='-15' >-15</option><option value='-14' >-14</option><option value='-13' >-13</option><option value='-12' >-12</option><option value='-11' >-11</option><option value='-10' >-10</option><option value='-9' >-9</option><option value='-8' >-8</option><option value='-7' >-7</option><option value='-6' >-6</option><option value='-5' >-5</option><option value='-4' >-4</option><option value='-3' >-3</option><option value='-2' >-2</option><option value='-1' >-1</option><option value='0'  selected>0</option><option value='1' >1</option><option value='2' >2</option><option value='3' >3</option><option value='4' >4</option><option value='5' >5</option><option value='6' >6</option><option value='7' >7</option><option value='8' >8</option><option value='9' >9</option><option value='10' >10</option><option value='11' >11</option><option value='12' >12</option><option value='13' >13</option><option value='14' >14</option><option value='15' >15</option><option value='16' >16</option><option value='17' >17</option><option value='18' >18</option><option value='19' >19</option><option value='20' >20</option><option value='21' >21</option><option value='22' >22</option><option value='23' >23</option><option value='24' >24</option><option value='25' >25</option><option value='26' >26</option><option value='27' >27</option><option value='28' >28</option><option value='29' >29</option><option value='30' >30</option>								</select>
						</div>

						<div>
							<label for="conf_DISP_COLOR_MODEL">Color</label><br />
								<select name="conf_DISP_COLOR_MODEL" id="conf_DISP_COLOR_MODEL">
									<option value='1'  selected>Black-and-white</option><option value='RGB' >RGB</option><option value='RGBA' >RGBA (RGB with transparency)</option>								</select>
						</div>

						<div>
							<input type="checkbox" id="conf_DISP_COLOR_BGR" name="conf_DISP_COLOR_BGR">
							<label for="conf_DISP_COLOR_BGR">BGR color notation (blue-green-red) instead of RGB (red-green-blue)</label><br />
						<div>

						<div>
							<input type="checkbox" id="conf_DISP_COLOR_INVERSE" name="conf_DISP_COLOR_INVERSE">
							<label for="conf_DISP_COLOR_INVERSE">Inverted colors</label><br />
						<div>

						<div>
							<label for="conf_DISP_BACKLIGHT_PIN">Which GPIO pin (BCM notation) is connected to the backlight?</label><br />
								<select name="conf_DISP_BACKLIGHT_PIN" id="conf_DISP_BACKLIGHT_PIN">
									<option value='0' >-</option><option value='18' >GPIO 18</option><option value='24' >GPIO 24</option>								</select>
						</div>
					</div>
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Display menu</summary>

				<h3>Activate display menu</h3>
					<div>
						<input type="checkbox" id="conf_MENU_ENABLED" name="conf_MENU_ENABLED" checked>
						<label for="conf_MENU_ENABLED">Should the display menu be activated?</label><br />
					</div>

				<h3>Rotate button mapping</h3>
					<div>
						<label for="conf_MENU_BUTTON_ROTATE">Button rotation</label><br />
							<select name="conf_MENU_BUTTON_ROTATE" id="conf_MENU_BUTTON_ROTATE">
								<option value='2'  selected>0</option><option value='0' >180</option>							</select>
					</div>

				<h3>Hardware</h3>

					<div>
						<label for="conf_MENU_BUTTON_COMBINATION">Please select a variant using the table (pins according to GPIO.BCM). Note: The display menu must also be activated. (Display menu)</label><br />

														<select name="conf_MENU_BUTTON_COMBINATION" id="conf_MENU_BUTTON_COMBINATION">
								<option value='1'  selected>1</option><option value='2' >2</option><option value='3' >3</option><option value='4' >4</option><option value='5' >5</option><option value='6' >6</option>							</select>

							<table style="width: 100%;">
								<tr style="border: thin solid;">
									<th style="width: 20%;">
										Variant									</th>
									<th style="width: 20%;">
										up									</th>
									<th>
										down									</th>
									<th style="width: 20%;">
										left									</th>
									<th style="width: 20%;">
										right									</th>
									<th style="width: 20%;">
										Comment									</th>
								</tr>

								<tr style="border: thin solid; vertical-align: top;"><td><b>1</b></td>												<td style="border: thin solid; vertical-align: top;">
													5												</td>
																							<td style="border: thin solid; vertical-align: top;">
													6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													17												</td>
																							<td style="border: thin solid; vertical-align: top;">
													27												</td>
																							<td style="border: thin solid; vertical-align: top;">
																									</td>
											</tr><tr style="border: thin solid; vertical-align: top;"><td><b>2</b></td>												<td style="border: thin solid; vertical-align: top;">
													6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													13												</td>
																							<td style="border: thin solid; vertical-align: top;">
													19												</td>
																							<td style="border: thin solid; vertical-align: top;">
													26												</td>
																							<td style="border: thin solid; vertical-align: top;">
																									</td>
											</tr><tr style="border: thin solid; vertical-align: top;"><td><b>3</b></td>												<td style="border: thin solid; vertical-align: top;">
													6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													19												</td>
																							<td style="border: thin solid; vertical-align: top;">
													5												</td>
																							<td style="border: thin solid; vertical-align: top;">
													26, 13												</td>
																							<td style="border: thin solid; vertical-align: top;">
													SH1106 WAVESHARE OLED display HAT, Joystick												</td>
											</tr><tr style="border: thin solid; vertical-align: top;"><td><b>4</b></td>												<td style="border: thin solid; vertical-align: top;">
													19												</td>
																							<td style="border: thin solid; vertical-align: top;">
													6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													26												</td>
																							<td style="border: thin solid; vertical-align: top;">
													5												</td>
																							<td style="border: thin solid; vertical-align: top;">
													ST7735 WAVESHARE LCD display HAT, Joystick												</td>
											</tr><tr style="border: thin solid; vertical-align: top;"><td><b>5</b></td>												<td style="border: thin solid; vertical-align: top;">
													19												</td>
																							<td style="border: thin solid; vertical-align: top;">
													6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													21												</td>
																							<td style="border: thin solid; vertical-align: top;">
													16												</td>
																							<td style="border: thin solid; vertical-align: top;">
													ST7735 WAVESHARE LCD display HAT, Button												</td>
											</tr><tr style="border: thin solid; vertical-align: top;"><td><b>6</b></td>												<td style="border: thin solid; vertical-align: top;">
													17												</td>
																							<td style="border: thin solid; vertical-align: top;">
													22, 4												</td>
																							<td style="border: thin solid; vertical-align: top;">
													27, 5												</td>
																							<td style="border: thin solid; vertical-align: top;">
													23, 6												</td>
																							<td style="border: thin solid; vertical-align: top;">
													Adafruit 128x64 Pi OLED Bonnet <a href="https://github.com/outdoorbits/little-backup-box/wiki/02b-01._Adafruit_128x64_OLED_Bonnet_for_Raspberry_Pi">wiki</a>												</td>
											</tr>							</table>
							<a href="/files/index.php?p=&edit=buttons.private.cfg">Edit custom configuration file</a>
					</div>

					<div>
						<label for="conf_MENU_BUTTON_BOUNCETIME">The bounce time (in milliseconds) indicates how quickly a button reaches a stable on state. After an action, a button is blocked for this time.</label><br />
							<select name="conf_MENU_BUTTON_BOUNCETIME" id="conf_MENU_BUTTON_BOUNCETIME">
								<option value='5' >5</option><option value='10' >10</option><option value='15'  selected>15</option><option value='20' >20</option><option value='25' >25</option><option value='50' >50</option><option value='100' >100</option><option value='200' >200</option><option value='300' >300</option><option value='400' >400</option><option value='500' >500</option>							</select><br />

						<label for="conf_MENU_BUTTON_EDGE_DETECTION">Button edge detection</label><br />
							<select name="conf_MENU_BUTTON_EDGE_DETECTION" id="conf_MENU_BUTTON_EDGE_DETECTION">
								<option value='RISING'  selected>RISING</option><option value='FALLING' >FALLING</option>							</select><br />

						<label for="conf_MENU_BUTTON_RESISTOR_PULL">Pull resistor</label><br />
							<select name="conf_MENU_BUTTON_RESISTOR_PULL" id="conf_MENU_BUTTON_RESISTOR_PULL">
								<option value='DOWN'  selected>DOWN</option><option value='UP' >UP</option>							</select>
					</div>

			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Screen</summary>
				<p>
					Settings that affect a screen with a graphical user interface (desktop).				</p>
				<h3>Virtual keyboard</h3>
					<div>
						<input type="checkbox" id="conf_VIRTUAL_KEYBOARD_ENABLED" name="conf_VIRTUAL_KEYBOARD_ENABLED" checked>
						<label for="conf_VIRTUAL_KEYBOARD_ENABLED">Enable virtual keyboard</label><br />
					</div>

			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Image viewer View</summary>

				<h3>Thumbnails</h3>
					<input type="checkbox" id="conf_BACKUP_GENERATE_THUMBNAILS" name="conf_BACKUP_GENERATE_THUMBNAILS" checked>
					<label for="conf_BACKUP_GENERATE_THUMBNAILS">Create thumbnails for View after backup? (Local storages only)</label><br />

				<h3>Convert heic images to jpeg</h3>
					<input type="checkbox" id="conf_VIEW_CONVERT_HEIC" name="conf_VIEW_CONVERT_HEIC" checked>
					<label for="conf_VIEW_CONVERT_HEIC">Create jpeg images from heic (heif) format images</label><br />

				<h3>Automatically adjust EXIF data of media files on import</h3>
					<input type="checkbox" id="conf_BACKUP_UPDATE_EXIF" name="conf_BACKUP_UPDATE_EXIF">
					<label for="conf_BACKUP_UPDATE_EXIF">Adjust EXIF data during import</label><br />
					New media without their own rating receive the standard rating. If possible, this is written to the original or a sidecar file.
				<h3>Write changed ratings to original files immediately</h3>
					<input type="checkbox" id="conf_VIEW_WRITE_RATING_EXIF" name="conf_VIEW_WRITE_RATING_EXIF">
					<label for="conf_VIEW_WRITE_RATING_EXIF">Write the reviews directly into the file</label><br />
					Ratings are immediately written to the original files or a sidecar file and can be used in further processing. Alternatively, they can also be transferred from the database to the files later (backup page).
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Email Notifications</summary>

				<h3>Send mails</h3>
					<input type="checkbox" id="conf_MAIL_NOTIFICATIONS" name="conf_MAIL_NOTIFICATIONS">
					<label for="conf_MAIL_NOTIFICATIONS">If possible, send backup reports via email?</label><br />

					<input type="checkbox" id="conf_MAIL_IP" name="conf_MAIL_IP">
					<label for="conf_MAIL_IP">If possible, send the current links of this Little Backup Box via email?</label><br />

				<h3>Send mails in HTML-format</h3>
					<input type="checkbox" id="conf_MAIL_HTML" name="conf_MAIL_HTML" checked>
					<label for="conf_MAIL_HTML">If mails are activated, should they be Formatted in HTML?</label><br />

				<h3>SMTP-server</h3>
					<label for="conf_SMTP_SERVER">Address of the SMTP-mailserver</label><br />
					<input type="text"  id="conf_SMTP_SERVER" name="conf_SMTP_SERVER" size="6" value="">

				<h3>SMTP-Port</h3>
					<label for="conf_SMTP_PORT">Port of the SMTP-Mailserver (default: 465)</label><br />
					<input type="text"  id="conf_SMTP_PORT" name="conf_SMTP_PORT" size="20" value="465">

				<h3>Connection security</h3>
					<input type="radio" id="conf_MAIL_SECURITY_STARTTLS" name="conf_MAIL_SECURITY" value="STARTTLS" checked>
					<label for="conf_MAIL_SECURITY_STARTTLS">STARTTLS</label><br />

					<input type="radio" id="conf_MAIL_SECURITY_SSL" name="conf_MAIL_SECURITY" value="SSL">
					<label for="conf_MAIL_SECURITY_SSL">SSL</label><br />

				<h3>Username</h3>
					<label for="conf_MAIL_USER">Username for the mailserver</label><br />
					<input type="text"  id="conf_MAIL_USER" name="conf_MAIL_USER" size="20" value="">

				<h3>Password</h3>
					<label for="conf_MAIL_PASSWORD">Password for the mailserver</label><br />
					<input type="password"  id="conf_MAIL_PASSWORD" name="conf_MAIL_PASSWORD" size="20" value="">

				<h3>Sender</h3>
					<label for="conf_MAIL_FROM">Mailaddress of the sender</label><br />
					<input type="text"  id="conf_MAIL_FROM" name="conf_MAIL_FROM" size="20" value="">

				<h3>Recipient</h3>
					<label for="conf_MAIL_TO">Mailaddress of the recipient</label><br />
					<input type="text"  id="conf_MAIL_TO" name="conf_MAIL_TO" size="20" value="">

				<h3>Mail timeout</h3>
					<label for="conf_MAIL_TIMEOUT_SEC">After what time limit should the sending of backup reports be canceled?</label><br />
					<select name="conf_MAIL_TIMEOUT_SEC" id="conf_MAIL_TIMEOUT_SEC">
						<option value='5' >5 s</option><option value='10' >10 s</option><option value='20' >20 s</option><option value='30' >30 s</option><option value='40' >40 s</option><option value='50' >50 s</option><option value='60'  selected>60 s</option><option value='90' >90 s</option><option value='120' >120 s</option><option value='300' >300 s</option><option value='600' >600 s</option>					</select>

				<h3>Send test mail</h3>
					<input type="checkbox" id="send_testmail" name="send_testmail">
					<label for="send_testmail">After saving, an attempt is made to send a test mail.</label><br />
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">rsync-server-configuration</summary>

				<h3>rsync-server</h3>
					<label for="conf_RSYNC_SERVER">Address of the rsync-server</label><br />
					<input type="text"  id="conf_RSYNC_SERVER" name="conf_RSYNC_SERVER" size="6" value="">

				<h3>rsync-port</h3>
					<label for="conf_RSYNC_PORT">Port of the rsync-server (default: 873)</label><br />
					<input type="text"  id="conf_RSYNC_PORT" name="conf_RSYNC_PORT" size="20" value="873">

				<h3>Username</h3>
					<label for="conf_RSYNC_USER">Username for the rsync-server</label><br />
					<input type="text"  id="conf_RSYNC_USER" name="conf_RSYNC_USER" size="20" value="">

				<h3>Password</h3>
					<label for="conf_RSYNC_PASSWORD">Password for the rsync-server</label><br />
					<input type="password"  id="conf_RSYNC_PASSWORD" name="conf_RSYNC_PASSWORD" size="20" value="">

				<h3>rsync module</h3>
					<label for="conf_RSYNC_SERVER_MODULE">Module name on the rsync server, e.g. 'little-backup-box' (default:little-backup-box). <br> The module name is defined on the server side in rsyncd.conf and is set in [square brackets]. Also note <a href='https://github.com/outdoorbits/little-backup-box/blob/main/readme_rsync.md'> readme_rsync.md </a>.</label><br />
					<input type="text"  id="conf_RSYNC_SERVER_MODULE" name="conf_RSYNC_SERVER_MODULE" size="20" value="little-backup-box">
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Configure Cloud-services</summary>

				<h3>Base folder on cloud servers</h3>
					<p>The backup on the cloud server is carried out under this directory.</p>
					<h3>Transfer settings</h3>

						<h4>Method of data transfer</h4>
							<p>With a stable internet connection, the transfer with rclone seems to be significantly faster.<br>
rsync, however, can have advantages in the event of transfer interruptions, especially with large files.</p>

						<h4>Storage location static</h4>
							<p>Do the files remain in the storage location immediately after uploading or are they sorted away? (This only applies to rclone!) </p>

												<table>
							<tr>
								<th style="padding-left: 30px; text-align: center"></th>
								<th style="padding-left: 30px; text-align: center" colspan=2>Method of data transfer</th>
								<th style="padding-left: 30px; text-align: center">Storage location static</th>
							</tr>
							<tr>
								<th></th>
								<th style="padding-left: 30px; text-align: center">rclone</th>
								<th style="padding-left: 30px; text-align: center">rsync</th>
								<th style="padding-left: 30px; text-align: center"></th>
							</tr>
												</table>

				<h3>rclone GUI</h3>
					<a href="/frame.php?page=rclone_gui" target="_blank">Open the rcloud GUI in a new window</a>
					<p>
						Username: 'lbb', Password: 'lbb'						<br />
						Depending on your cloud service, this configuration may only be valid for a limited time.<br />
					</p>

				<h3>Update and restart rclone GUI</h3>
					<input type="checkbox" id="restart_rclone_gui" name="restart_rclone_gui">
					<label for="restart_rclone_gui">Update and restart rclone GUI</label><br />
					An internet connection is mandatory.
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Social media</summary>

				<h3>Generally</h3>
					<input type="checkbox" id="conf_SOCIAL_PUBLISH_DATE" name="conf_SOCIAL_PUBLISH_DATE"checked>
					<label for="conf_SOCIAL_PUBLISH_DATE">Publish recording date</label><br />

					<input type="checkbox" id="conf_SOCIAL_PUBLISH_FILENAME" name="conf_SOCIAL_PUBLISH_FILENAME">
					<label for="conf_SOCIAL_PUBLISH_FILENAME">Publish file name</label><br />

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Configure Telegram</summary>
						Please refer to the preparations in the <a href="https://github.com/outdoorbits/little-backup-box/wiki/04c_Telegram">Wiki: Telegram</a><br />
						<br />
						<label for="conf_SOCIAL_TELEGRAM_TOKEN">Token</label><br />
						<input type="text"  id="conf_SOCIAL_TELEGRAM_TOKEN" name="conf_SOCIAL_TELEGRAM_TOKEN" size="50" value=""><br />

						<!--
# Author: Stefan Saam, github@saams.de

#######################################################################
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#######################################################################
-->

<script>
	async function openChatPicker() {
	const tokenEl								= document.getElementById('conf_SOCIAL_TELEGRAM_TOKEN');
	const conf_SOCIAL_TELEGRAM_CHAT_ID			= document.getElementById('conf_SOCIAL_TELEGRAM_CHAT_ID');
	const conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER	= document.getElementById('conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER');
	const TELEGRAM_CHAT_ID_PRESENTER			= document.getElementById('TELEGRAM_CHAT_ID_PRESENTER');
	const Button_Target_Telegram				= document.getElementById('Target_social:telegram');
	const token   = (tokenEl?.value || '').trim();
	if (!token) { alert('Bitte zuerst den Bot-Token eintragen.'); return; }

	// fetch chats
	const fd = new FormData(); fd.append('token', token);
	const res = await fetch('/telegram_chat_id.php', { method: 'POST', body: fd });
	const data = await res.json();

	if (!data.ok) {
		const errors = {
		'invalid_token': "Invalid token",
		'telegram_unreachable': "Telegram unreachable",
		'bad_api_response': "Bad api response"		};
		alert(errors[data.error] || ('Error: ' + (data.error || 'unknown')));
		return;
	}

	const chats = Array.isArray(data.chats) ? data.chats : [];
	if (chats.length === 0) {
		alert('No chats found. Send a message to the target audience/channel or add the bot as an admin.');
		return;
	}

	// build dialog if not yet
	let dlg = document.getElementById('tg-chat-picker');
	if (!dlg) {
		dlg = document.createElement('dialog');
		dlg.id = 'tg-chat-picker';
		dlg.innerHTML = `
		<form method="dialog" style="min-width:520px; font-family: system-ui, sans-serif;">
			<h3 style="margin:0 0 .5rem 0;">Select chat</h3>
			<p style="margin:.25rem 0 .5rem 0; color:#555;">Display: Name (Type)  <code>chat_id</code></p>
			<select id="tg-chat-select" size="10" style="width:100%;"></select>
			<div style="display:flex; gap:.5rem; margin-top:.75rem; justify-content:flex-end; flex-wrap:wrap;">
			<button id="tg-chat-cancel" value="cancel" type="submit">Close</button>
			<button id="tg-chat-choose" value="default">Accept</button>
			<button id="tg-chat-test" type="button">Send test message</button>
			</div>
			<p id="tg-chat-picked" style="margin:.5rem 0 0 0; color:#555;"></p>
		</form>`;
		document.body.appendChild(dlg);
	}

	// fill options
	const sel = dlg.querySelector('#tg-chat-select');
	sel.innerHTML = '';
	for (const c of chats) {
		const opt = document.createElement('option');
		const id  = String(c.id);
		const t   = c.type || 'unknown';
		const n   = c.name || '(without name)';
		opt.type	= t;
		opt.name	= n;
		opt.value	= id;
		opt.textContent = `${n} (${t})  ${id}`;
		sel.appendChild(opt);
	}

	const chosenP = dlg.querySelector('#tg-chat-picked');
	dlg.querySelector('#tg-chat-choose').onclick = (e) => {
		e.preventDefault();
		const opt = sel.selectedOptions[0];
		if (!opt) return;
		const name			= opt.name;
		const type			= opt.type;
		const identifier	= name + " (" + type + ")";
		const id			= opt.value;
		if (conf_SOCIAL_TELEGRAM_CHAT_ID) {conf_SOCIAL_TELEGRAM_CHAT_ID.value = id;}
		if (conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER) {conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER.value = identifier;}
		if (Button_Target_Telegram) {
			if (identifier) {
				Button_Target_Telegram.innerHTML = 'Telegram' + '<br /><small style="font-weight: normal;">' + identifier + '</small>';
			} else {
				Button_Target_Telegram.innerHTML = 'Telegram'
			}
		}
		if (TELEGRAM_CHAT_ID_PRESENTER) {TELEGRAM_CHAT_ID_PRESENTER.value = id + ": " + identifier;}
		chosenP.textContent = `Selected: ${id}`;
		dlg.close('ok');
	};

	// test messenger button
	dlg.querySelector('#tg-chat-test').onclick = async () => {
		const opt = sel.selectedOptions[0];
		if (!opt) { alert('Please select a chat first.'); return; }
		const chatId = opt.value;
		try {
		const fd2 = new FormData();
		fd2.append('chat_id', chatId);
		fd2.append('text', 'Test message from Little-Backup-Box via bot');
		const r = await fetch(`https://api.telegram.org/bot${encodeURIComponent(token)}/sendMessage`, {
			method: 'POST',
			body: fd2
		});
		const res2 = await r.json();
		if (res2.ok) {
			alert('Test message sent to ' + chatId);
		} else {
			alert('Error sending: ' + JSON.stringify(res2));
		}
		} catch (e) {
		alert('Error sending: ' + e);
		}
	};

	if (typeof dlg.showModal === 'function') dlg.showModal();
	else dlg.style.display = 'block';
	}
</script>

<label for="TELEGRAM_CHAT_ID_PRESENTER">Chat ID</label><br />
<input type="hidden" id="conf_SOCIAL_TELEGRAM_CHAT_ID" name="conf_SOCIAL_TELEGRAM_CHAT_ID" value="0">
<input type="hidden" id="conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER" name="conf_SOCIAL_TELEGRAM_CHAT_IDENTIFIER" value="">
<input type="text" id="TELEGRAM_CHAT_ID_PRESENTER" name="TELEGRAM_CHAT_ID_PRESENTER" size="20" value="" disabled>
<br />
<button type="button" onclick="openChatPicker()" id="get_telegram_chat_id">
	Select chat</button>
				</details>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Configure Mastodon</summary>
						Please refer to the preparations in the <a href="https://github.com/outdoorbits/little-backup-box/wiki/04e_Mastodon">Wiki: Mastodon</a><br />
						<br />
						<label for="conf_SOCIAL_MASTODON_BASE_URL">Mastodon base URL</label><br />
						<input type="text"  id="conf_SOCIAL_MASTODON_BASE_URL" name="conf_SOCIAL_MASTODON_BASE_URL" size="50" value=""><br />

						<label for="conf_SOCIAL_MASTODON_TOKEN">Access token</label><br />
						<input type="text"  id="conf_SOCIAL_MASTODON_TOKEN" name="conf_SOCIAL_MASTODON_TOKEN" size="50" value=""><br />
				</details>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Configure Bluesky</summary>
						Please refer to the preparations in the <a href="https://github.com/outdoorbits/little-backup-box/wiki/04f_Bluesky">Wiki: Bluesky</a><br />
						<br />
						<label for="conf_SOCIAL_BLUESKY_API_BASE_URL">API Base URL</label><br />
						<input type="text"  id="conf_SOCIAL_BLUESKY_API_BASE_URL" name="conf_SOCIAL_BLUESKY_API_BASE_URL" size="50" value="https://bsky.social"><br />

						<label for="conf_SOCIAL_BLUESKY_IDENTIFIER">Identifier (Email or Handle)</label><br />
						<input type="text"  id="conf_SOCIAL_BLUESKY_IDENTIFIER" name="conf_SOCIAL_BLUESKY_IDENTIFIER" size="50" value=""><br />

						<label for="conf_SOCIAL_BLUESKY_APP_PASSWORD">App Password</label><br />
						<input type="text"  id="conf_SOCIAL_BLUESKY_APP_PASSWORD" name="conf_SOCIAL_BLUESKY_APP_PASSWORD" size="50" value=""><br />
				</details>

				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">Configure Matrix</summary>
						Please refer to the preparations in the <a href="https://github.com/outdoorbits/little-backup-box/wiki/04d_Matrix">Wiki: Matrix</a><br />
						<br />

						<label for="conf_SOCIAL_MATRIX_HOMESERVER">Matrix homeserver (e.g. https://matrix.example.org)</label><br />
						<input type="text"  id="conf_SOCIAL_MATRIX_HOMESERVER" name="conf_SOCIAL_MATRIX_HOMESERVER" size="50" value="">
						<br />
						<label for="conf_SOCIAL_MATRIX_TOKEN">Access token of the bot account</label><br />
						<input type="text"  id="conf_SOCIAL_MATRIX_TOKEN" name="conf_SOCIAL_MATRIX_TOKEN" size="50" value="">
						<br />
						<!--
# Author: Stefan Saam, github@saams.de

#######################################################################
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#######################################################################
-->

<script>
async function openMatrixTokenFetcher() {
	const homeserverEl	= document.getElementById('conf_SOCIAL_MATRIX_HOMESERVER');
	const tokenEl		= document.getElementById('conf_SOCIAL_MATRIX_TOKEN');

	const homeserverDefault	= (homeserverEl?.value || '').trim();
	const tokenDefault		= (tokenEl?.value || '').trim();

	// Build dialog if not yet present
	let dlg = document.getElementById('mx-token-fetcher');
	if (!dlg) {
		dlg		= document.createElement('dialog');
		dlg.id	= 'mx-token-fetcher';
		dlg.innerHTML = `
		<form method="dialog" style="min-width:420px; font-family: system-ui, sans-serif;">
			<h3 style="margin:0 0 .5rem 0;">Fetch Matrix token</h3>
			<p style="margin:.25rem 0 .75rem 0; color:#555;">Log in with your Matrix user account to generate an access token for the bot. The password will not be stored.</p>

			<label style="display:block; margin-bottom:.25rem;">
				Matrix homeserver (e.g. https://matrix.example.org)<br>
				<input type="text" id="mx-gettoken-homeserver" style="width:100%;">
			</label>

			<label style="display:block; margin-bottom:.25rem;">
				Matrix username (e.g. @bot:example.org)<br>
				<input type="text" id="mx-gettoken-username" style="width:100%;">
			</label>

			<label style="display:block; margin-bottom:.25rem;">
				Password<br>
				<input type="password" id="mx-gettoken-password" style="width:100%;">
			</label>

			<label style="display:block; margin-bottom:.25rem;">
				Access token of the bot account<br>
				<input type="text" id="mx-gettoken-token" style="width:100%;" disabled>
			</label>

			<div id="mx-gettoken-status" style="margin:.5rem 0; color:#555; min-height:1.2em;"></div>

			<div style="display:flex; gap:.5rem; margin-top:.75rem; justify-content:flex-end; flex-wrap:wrap;">
				<button id="mx-gettoken-cancel" value="cancel" type="submit">Close</button>
				<button id="mx-gettoken-fetch" value="default">Fetch token</button>
				<button id="mx-gettoken-choose" value="default">Apply</button>
			</div>
		</form>`;
		document.body.appendChild(dlg);

		const hsInput	= dlg.querySelector('#mx-gettoken-homeserver');
		const userInput	= dlg.querySelector('#mx-gettoken-username');
		const pwInput	= dlg.querySelector('#mx-gettoken-password');
		const tkInput	= dlg.querySelector('#mx-gettoken-token');
		const statusEl	= dlg.querySelector('#mx-gettoken-status');

		// Handler fr "Fetch token"
		dlg.querySelector('#mx-gettoken-fetch').onclick = async (e) => {
			e.preventDefault();

			const homeserver	= (hsInput.value || '').trim();
			const username		= (userInput.value || '').trim();
			const password		= pwInput.value || '';

			if (!homeserver) {
				alert('Please enter the Matrix homeserver first.');
				return;
			}
			if (!username) {
				alert('Please enter the Matrix username first.');
				return;
			}
			if (!password) {
				alert('Please enter the password first.');
				return;
			}

			statusEl.textContent	= 'Fetching token ';

			try {
				const fd = new FormData();
				fd.append('homeserver', homeserver);
				fd.append('username', username);
				fd.append('password', password);

				const res = await fetch('/matrix_get_token.php', {
					method: 'POST',
					body: fd
				});
				const data = await res.json();

				if (!data.ok) {
					const errors = {
						'invalid_credentials': "Login failed. Please check username and password.",
						'bad_api_response'   : "Unexpected response from Matrix server.",
						'matrix_unreachable' : "Matrix homeserver not reachable.",
						'missing_parameters' : "Missing input. Please fill in all fields.",
					};
					const msg = errors[data.error] || ('Error: ' + (data.error || 'unknown'));
					statusEl.textContent	= msg;
					return;
				}

				const token		= data.token || '';
				const userId	= data.user_id || '';

				if (!token) {
					statusEl.textContent	= 'Login was successful, but no access token was returned.';
					return;
				}

				// write token to local input
				tkInput.value	= token;

				statusEl.textContent	= 'Token successfully fetched for' + (userId ? ' ' + userId : '');
				// dialog offen lassen, damit man die Meldung sieht
			} catch (e) {
				console.error(e);
				statusEl.textContent	= 'Error while fetching the token.';
			}
		};

		// apply changes
		dlg.querySelector('#mx-gettoken-choose').onclick	= (e) => {
			e.preventDefault();

			// write token to main input
			if (tokenEl) {
				tokenEl.value	= tkInput.value;
			}

			// also fill homeserver field if empty
			if (homeserverEl && !homeserverEl.value) {
				const homeserver = (hsInput?.value || '').trim();
				homeserverEl.value	= homeserver;
			}

			// close dialog
			dlg.close('ok');
		};
	}

	// Default-values
	const hsInput = dlg.querySelector('#mx-gettoken-homeserver');
	if (hsInput && homeserverDefault && !hsInput.value) {
		hsInput.value	= homeserverDefault;
	}

	const tkInput = dlg.querySelector('#mx-gettoken-token');
	if (tkInput && tokenDefault && !tkInput.value) {
		tkInput.value	= tokenDefault;
	}

	if (typeof dlg.showModal === 'function') dlg.showModal();
	else dlg.style.display	= 'block';
}
</script>

<button type="button" onclick="openMatrixTokenFetcher()" id="get_matrix_token">
	Fetch token</button>
						<br />
						<!--
# Author: Stefan Saam, github@saams.de

#######################################################################
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#######################################################################
-->

<script>
	async function openMatrixRoomPicker() {
		const homeserverEl							= document.getElementById('conf_SOCIAL_MATRIX_HOMESERVER');
		const tokenEl								= document.getElementById('conf_SOCIAL_MATRIX_TOKEN');
		const conf_SOCIAL_MATRIX_ROOM_ID			= document.getElementById('conf_SOCIAL_MATRIX_ROOM_ID');
		const conf_SOCIAL_MATRIX_ROOM_IDENTIFIER	= document.getElementById('conf_SOCIAL_MATRIX_ROOM_IDENTIFIER');
		const MATRIX_ROOM_ID_PRESENTER				= document.getElementById('MATRIX_ROOM_ID_PRESENTER');
		const Button_Target_Matrix					= document.getElementById('Target_social:matrix');

		const homeserver							= (homeserverEl?.value || '').trim();
		const token									= (tokenEl?.value || '').trim();

		if (!homeserver) { alert('Please enter the Matrix homeserver first.'); return; }
		if (!token)      { alert('Please enter the Matrix access token first.'); return; }

		// Fetch joined rooms via server-side script (to avoid CORS issues with the Matrix homeserver)
		const fd = new FormData();
		fd.append('homeserver', homeserver);
		fd.append('token', token);

		const res  = await fetch('/matrix_rooms.php', { method: 'POST', body: fd });
		const data = await res.json();

		if (!data.ok) {
			const errors = {
				'invalid_token'      : "Invalid access token.",
				'matrix_unreachable' : "Matrix homeserver not reachable.",
				'bad_api_response'   : "Unexpected response from Matrix server."			};
			alert(errors[data.error] || ('Error: ' + (data.error || 'unknown')));
			return;
		}

		const rooms = Array.isArray(data.rooms) ? data.rooms : [];
		if (rooms.length === 0) {
			alert('No rooms found.');
			return;
		}

		// build dialog if not yet present
		let dlg = document.getElementById('mx-room-picker');
		if (!dlg) {
			dlg = document.createElement('dialog');
			dlg.id = 'mx-room-picker';
			dlg.innerHTML = `
			<form method="dialog" style="min-width:520px; font-family: system-ui, sans-serif;">
				<h3 style="margin:0 0 .5rem 0;">Select Matrix room</h3>
				<p style="margin:.25rem 0 .5rem 0; color:#555;">Name  Alias  Room ID</p>
				<select id="mx-room-select" size="10" style="width:100%;"></select>
				<div style="display:flex; gap:.5rem; margin-top:.75rem; justify-content:flex-end; flex-wrap:wrap;">
					<button id="mx-room-cancel" value="cancel" type="submit">Close</button>
					<button id="mx-room-choose" value="default">Apply</button>
					<button id="mx-room-test" type="button">Send test message</button>
				</div>
				<p id="mx-room-picked" style="margin:.5rem 0 0 0; color:#555;"></p>
			</form>`;
			document.body.appendChild(dlg);
		}

		// fill options
		const sel = dlg.querySelector('#mx-room-select');
		sel.innerHTML = '';
		for (const r of rooms) {
			const opt = document.createElement('option');
			const id  = String(r.room_id);
			const name = r.name || r.canonical_alias || '(without name)';
			const alias = r.canonical_alias || '';

			opt.dataset.alias	= alias;
			opt.dataset.name	= name;
			opt.value			= id;
			opt.textContent		= alias ? `${name}  ${alias}  ${id}` : `${name}  ${id}`;

			sel.appendChild(opt);
		}

		const chosenP	= dlg.querySelector('#mx-room-picked');

		// choose room
		dlg.querySelector('#mx-room-choose').onclick	= (e) => {
			e.preventDefault();
			const opt = sel.selectedOptions[0];
			if (!opt) return;

			const name			= opt.dataset.name  || '';
			const alias			= opt.dataset.alias || '';
			const identifier	= alias ? `${name} (${alias})` : name;
			const id			= opt.value;

			if (conf_SOCIAL_MATRIX_ROOM_ID) {conf_SOCIAL_MATRIX_ROOM_ID.value = id;}
			if (conf_SOCIAL_MATRIX_ROOM_IDENTIFIER) {conf_SOCIAL_MATRIX_ROOM_IDENTIFIER.value = identifier;}

			if (Button_Target_Matrix) {
				if (identifier) {
					Button_Target_Matrix.innerHTML	= 'Matrix' + '<br /><small style="font-weight: normal;">' + identifier + '</small>';
				} else {
					Button_Target_Matrix.innerHTML	= 'Matrix';
				}
			}
			if (MATRIX_ROOM_ID_PRESENTER) {
				MATRIX_ROOM_ID_PRESENTER.value = id + ": " + identifier;
			}

			chosenP.textContent	= `Selected: ${id}`;
			dlg.close('ok');
		};

		// test message button
		dlg.querySelector('#mx-room-test').onclick = async () => {
		const opt = sel.selectedOptions[0];
		if (!opt) {
			alert('Please select a room first.');
			return;
		}

		const roomId = opt.value;
		const name   = opt.dataset.name  || '';
		const alias  = opt.dataset.alias || '';

		// Build a nicer label for the alert
		let label = roomId;
		if (name || alias) {
			label = name || alias;
			if (alias && alias !== name) {
				label += ' (' + alias + ')';
			}
		}

		try {
			const fd2 = new FormData();
			fd2.append('homeserver', homeserver);
			fd2.append('token', token);
			fd2.append('room_id', roomId);
			fd2.append('text', 'Matrix test message from Little Backup Box');

			const r    = await fetch('/matrix_send_test.php', {
				method: 'POST',
				body: fd2
			});
			const res2 = await r.json();
			if (res2.ok) {
				alert('Test message sent to ' + label);
			} else {
				alert('Error sending test message: ' + JSON.stringify(res2));
			}
		} catch (e) {
			alert('Error sending test message: ' + e);
		}
	};


		if (typeof dlg.showModal === 'function') dlg.showModal();
		else dlg.style.display = 'block';
	}
	</script>

	<label for="MATRIX_ROOM_ID_PRESENTER">Matrix room ID</label><br />
	<input type="hidden" id="conf_SOCIAL_MATRIX_ROOM_ID" name="conf_SOCIAL_MATRIX_ROOM_ID" value="">
	<input type="hidden" id="conf_SOCIAL_MATRIX_ROOM_IDENTIFIER" name="conf_SOCIAL_MATRIX_ROOM_IDENTIFIER" value="">
	<input type="text" id="MATRIX_ROOM_ID_PRESENTER" name="MATRIX_ROOM_ID_PRESENTER" size="40" value="" disabled>
	<button type="button" onclick="openMatrixRoomPicker()" id="get_matrix_room_id">
		Select room	</button><br />

				</details>

			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">VPN</summary>

				<h3>Which VPN to activate?</h3>

					<div>Which VPN should be activated before transferring data to a network service? Caution: The Little Backup Box interface may not be accessible while the backup is running. You may be able to reach the box under the VPN IP if your end device is also registered in the same VPN.</div>
					<br />
					<label for="conf_VPN_TYPE_RSYNC">For rsync server backup</label><br />
					<select name="conf_VPN_TYPE_RSYNC" id="conf_VPN_TYPE_RSYNC">
						<option value='none'   selected>Don't use VPN</option><option value='OpenVPN' >OpenVPN</option><option value='WireGuard' >WireGuard</option>					</select><br />

					<label for="conf_VPN_TYPE_CLOUD">For cloud services</label><br />
					<select name="conf_VPN_TYPE_CLOUD" id="conf_VPN_TYPE_CLOUD">
						<option value='none'   selected>Don't use VPN</option><option value='OpenVPN' >OpenVPN</option><option value='WireGuard' >WireGuard</option>					</select>

				<h3>VPN timeout</h3>

					<label for="conf_VPN_TIMEOUT">What is the maximum time to wait for the VPN connection to be established?</label><br />
					<select name="conf_VPN_TIMEOUT" id="conf_VPN_TIMEOUT">
						<option value='5' >5 s</option><option value='10' >10 s</option><option value='20'  selected>20 s</option><option value='30' >30 s</option><option value='40' >40 s</option><option value='50' >50 s</option><option value='60' >60 s</option><option value='90' >90 s</option><option value='120' >120 s</option><option value='300' >300 s</option><option value='600' >600 s</option>					</select>

				<h3>Upload configuration file</h3>

					<label for="vpn_upload_type">For which VPN variant should the configuration file be used?</label>
					<select name="vpn_upload_type" id="vpn_upload_type">
						<option value='none' selected>Please select</option><option value='OpenVPN'>OpenVPN</option><option value='WireGuard'>WireGuard</option>					</select>

					<label for="vpn_conf_file">Upload configuration file</label>
					<input type="file" name="vpn_conf_file" id="vpn_conf_file">

					
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">WiFi settings</summary>

				<h3>WiFi country</h3>
					<label for="conf_WIFI_COUNTRY">Select the country in which this Little Backup Box is to be used</label><br />
					<select id="conf_WIFI_COUNTRY" name="conf_WIFI_COUNTRY"><option value="AD">AD Andorra</option><option value="AE">AE United Arab Emirates</option><option value="AF">AF Afghanistan</option><option value="AG">AG Antigua & Barbuda</option><option value="AI">AI Anguilla</option><option value="AL">AL Albania</option><option value="AM">AM Armenia</option><option value="AO">AO Angola</option><option value="AQ">AQ Antarctica</option><option value="AR">AR Argentina</option><option value="AS">AS Samoa (American)</option><option value="AT">AT Austria</option><option value="AU">AU Australia</option><option value="AW">AW Aruba</option><option value="AX">AX land Islands</option><option value="AZ">AZ Azerbaijan</option><option value="BA">BA Bosnia & Herzegovina</option><option value="BB">BB Barbados</option><option value="BD">BD Bangladesh</option><option value="BE">BE Belgium</option><option value="BF">BF Burkina Faso</option><option value="BG">BG Bulgaria</option><option value="BH">BH Bahrain</option><option value="BI">BI Burundi</option><option value="BJ">BJ Benin</option><option value="BL">BL St Barthelemy</option><option value="BM">BM Bermuda</option><option value="BN">BN Brunei</option><option value="BO">BO Bolivia</option><option value="BQ">BQ Caribbean NL</option><option value="BR">BR Brazil</option><option value="BS">BS Bahamas</option><option value="BT">BT Bhutan</option><option value="BV">BV Bouvet Island</option><option value="BW">BW Botswana</option><option value="BY">BY Belarus</option><option value="BZ">BZ Belize</option><option value="CA">CA Canada</option><option value="CC">CC Cocos (Keeling) Islands</option><option value="CD">CD Congo (Dem. Rep.)</option><option value="CF">CF Central African Rep.</option><option value="CG">CG Congo (Rep.)</option><option value="CH">CH Switzerland</option><option value="CI">CI Cte d'Ivoire</option><option value="CK">CK Cook Islands</option><option value="CL">CL Chile</option><option value="CM">CM Cameroon</option><option value="CN">CN China</option><option value="CO">CO Colombia</option><option value="CR">CR Costa Rica</option><option value="CU">CU Cuba</option><option value="CV">CV Cape Verde</option><option value="CW">CW Curaao</option><option value="CX">CX Christmas Island</option><option value="CY">CY Cyprus</option><option value="CZ">CZ Czech Republic</option><option value="DE">DE Germany</option><option value="DJ">DJ Djibouti</option><option value="DK">DK Denmark</option><option value="DM">DM Dominica</option><option value="DO">DO Dominican Republic</option><option value="DZ">DZ Algeria</option><option value="EC">EC Ecuador</option><option value="EE">EE Estonia</option><option value="EG">EG Egypt</option><option value="EH">EH Western Sahara</option><option value="ER">ER Eritrea</option><option value="ES">ES Spain</option><option value="ET">ET Ethiopia</option><option value="FI">FI Finland</option><option value="FJ">FJ Fiji</option><option value="FK">FK Falkland Islands</option><option value="FM">FM Micronesia</option><option value="FO">FO Faroe Islands</option><option value="FR">FR France</option><option value="GA">GA Gabon</option><option value="GB" selected>GB Britain (UK)</option><option value="GD">GD Grenada</option><option value="GE">GE Georgia</option><option value="GF">GF French Guiana</option><option value="GG">GG Guernsey</option><option value="GH">GH Ghana</option><option value="GI">GI Gibraltar</option><option value="GL">GL Greenland</option><option value="GM">GM Gambia</option><option value="GN">GN Guinea</option><option value="GP">GP Guadeloupe</option><option value="GQ">GQ Equatorial Guinea</option><option value="GR">GR Greece</option><option value="GS">GS South Georgia & the South Sandwich Islands</option><option value="GT">GT Guatemala</option><option value="GU">GU Guam</option><option value="GW">GW Guinea-Bissau</option><option value="GY">GY Guyana</option><option value="HK">HK Hong Kong</option><option value="HM">HM Heard Island & McDonald Islands</option><option value="HN">HN Honduras</option><option value="HR">HR Croatia</option><option value="HT">HT Haiti</option><option value="HU">HU Hungary</option><option value="ID">ID Indonesia</option><option value="IE">IE Ireland</option><option value="IL">IL Israel</option><option value="IM">IM Isle of Man</option><option value="IN">IN India</option><option value="IO">IO British Indian Ocean Territory</option><option value="IQ">IQ Iraq</option><option value="IR">IR Iran</option><option value="IS">IS Iceland</option><option value="IT">IT Italy</option><option value="JE">JE Jersey</option><option value="JM">JM Jamaica</option><option value="JO">JO Jordan</option><option value="JP">JP Japan</option><option value="KE">KE Kenya</option><option value="KG">KG Kyrgyzstan</option><option value="KH">KH Cambodia</option><option value="KI">KI Kiribati</option><option value="KM">KM Comoros</option><option value="KN">KN St Kitts & Nevis</option><option value="KP">KP Korea (North)</option><option value="KR">KR Korea (South)</option><option value="KW">KW Kuwait</option><option value="KY">KY Cayman Islands</option><option value="KZ">KZ Kazakhstan</option><option value="LA">LA Laos</option><option value="LB">LB Lebanon</option><option value="LC">LC St Lucia</option><option value="LI">LI Liechtenstein</option><option value="LK">LK Sri Lanka</option><option value="LR">LR Liberia</option><option value="LS">LS Lesotho</option><option value="LT">LT Lithuania</option><option value="LU">LU Luxembourg</option><option value="LV">LV Latvia</option><option value="LY">LY Libya</option><option value="MA">MA Morocco</option><option value="MC">MC Monaco</option><option value="MD">MD Moldova</option><option value="ME">ME Montenegro</option><option value="MF">MF St Martin (French)</option><option value="MG">MG Madagascar</option><option value="MH">MH Marshall Islands</option><option value="MK">MK North Macedonia</option><option value="ML">ML Mali</option><option value="MM">MM Myanmar (Burma)</option><option value="MN">MN Mongolia</option><option value="MO">MO Macau</option><option value="MP">MP Northern Mariana Islands</option><option value="MQ">MQ Martinique</option><option value="MR">MR Mauritania</option><option value="MS">MS Montserrat</option><option value="MT">MT Malta</option><option value="MU">MU Mauritius</option><option value="MV">MV Maldives</option><option value="MW">MW Malawi</option><option value="MX">MX Mexico</option><option value="MY">MY Malaysia</option><option value="MZ">MZ Mozambique</option><option value="NA">NA Namibia</option><option value="NC">NC New Caledonia</option><option value="NE">NE Niger</option><option value="NF">NF Norfolk Island</option><option value="NG">NG Nigeria</option><option value="NI">NI Nicaragua</option><option value="NL">NL Netherlands</option><option value="NO">NO Norway</option><option value="NP">NP Nepal</option><option value="NR">NR Nauru</option><option value="NU">NU Niue</option><option value="NZ">NZ New Zealand</option><option value="OM">OM Oman</option><option value="PA">PA Panama</option><option value="PE">PE Peru</option><option value="PF">PF French Polynesia</option><option value="PG">PG Papua New Guinea</option><option value="PH">PH Philippines</option><option value="PK">PK Pakistan</option><option value="PL">PL Poland</option><option value="PM">PM St Pierre & Miquelon</option><option value="PN">PN Pitcairn</option><option value="PR">PR Puerto Rico</option><option value="PS">PS Palestine</option><option value="PT">PT Portugal</option><option value="PW">PW Palau</option><option value="PY">PY Paraguay</option><option value="QA">QA Qatar</option><option value="RE">RE Runion</option><option value="RO">RO Romania</option><option value="RS">RS Serbia</option><option value="RU">RU Russia</option><option value="RW">RW Rwanda</option><option value="SA">SA Saudi Arabia</option><option value="SB">SB Solomon Islands</option><option value="SC">SC Seychelles</option><option value="SD">SD Sudan</option><option value="SE">SE Sweden</option><option value="SG">SG Singapore</option><option value="SH">SH St Helena</option><option value="SI">SI Slovenia</option><option value="SJ">SJ Svalbard & Jan Mayen</option><option value="SK">SK Slovakia</option><option value="SL">SL Sierra Leone</option><option value="SM">SM San Marino</option><option value="SN">SN Senegal</option><option value="SO">SO Somalia</option><option value="SR">SR Suriname</option><option value="SS">SS South Sudan</option><option value="ST">ST Sao Tome & Principe</option><option value="SV">SV El Salvador</option><option value="SX">SX St Maarten (Dutch)</option><option value="SY">SY Syria</option><option value="SZ">SZ Eswatini (Swaziland)</option><option value="TC">TC Turks & Caicos Is</option><option value="TD">TD Chad</option><option value="TF">TF French S. Terr.</option><option value="TG">TG Togo</option><option value="TH">TH Thailand</option><option value="TJ">TJ Tajikistan</option><option value="TK">TK Tokelau</option><option value="TL">TL East Timor</option><option value="TM">TM Turkmenistan</option><option value="TN">TN Tunisia</option><option value="TO">TO Tonga</option><option value="TR">TR Turkey</option><option value="TT">TT Trinidad & Tobago</option><option value="TV">TV Tuvalu</option><option value="TW">TW Taiwan</option><option value="TZ">TZ Tanzania</option><option value="UA">UA Ukraine</option><option value="UG">UG Uganda</option><option value="UM">UM US minor outlying islands</option><option value="US">US United States</option><option value="UY">UY Uruguay</option><option value="UZ">UZ Uzbekistan</option><option value="VA">VA Vatican City</option><option value="VC">VC St Vincent</option><option value="VE">VE Venezuela</option><option value="VG">VG Virgin Islands (UK)</option><option value="VI">VI Virgin Islands (US)</option><option value="VN">VN Vietnam</option><option value="VU">VU Vanuatu</option><option value="WF">WF Wallis & Futuna</option><option value="WS">WS Samoa (western)</option><option value="YE">YE Yemen</option><option value="YT">YT Mayotte</option><option value="ZA">ZA South Africa</option><option value="ZM">ZM Zambia</option><option value="ZW">ZW Zimbabwe</option></select>
				<h3>Wi-Fi password</h3>
					<input type="radio" id="conf_WIFI_PASSWORD_TYPE" name="conf_WIFI_PASSWORD_TYPE" value="static" checked>
					<label for="conf_WIFI_PASSWORD_TYPE">The password entered below will be used.</label><br />
					<input type="radio" id="conf_WIFI_PASSWORD_TYPE" name="conf_WIFI_PASSWORD_TYPE" value="dynamic">
					<label for="conf_WIFI_PASSWORD_TYPE">Dynamic password *</label><br />
					* A new random Wi-Fi password is assigned for each session. <strong>Access to the Little Backup Box's Wi-Fi network is then only possible via the display and the QR code!</strong><br />
However, the change will only be applied if the display is activated and has a resolution of at least 64 x 64 pixels.<br />
					<br />
					<label for="conf_WIFI_PASSWORD">The password must be between 8 and 63 characters long.</label><br />
					<input type="text"  id="conf_WIFI_PASSWORD" name="conf_WIFI_PASSWORD" size="20" value=""><br />
					<div id="count_conf_WIFI_PASSWORD"></div>
					<script>
						const conf_WIFI_PASSWORD = document.getElementById("conf_WIFI_PASSWORD");
						const count_conf_WIFI_PASSWORD = document.getElementById("count_conf_WIFI_PASSWORD");

						function update_count_conf_WIFI_PASSWORD() {
							const n = conf_WIFI_PASSWORD.value.length;
							count_conf_WIFI_PASSWORD.innerHTML = n + " characters";

							if (n < 8) {
								count_conf_WIFI_PASSWORD.innerHTML += "<br />Password too short. Minimum character length: 8";
							} else if (n > 63) {
								count_conf_WIFI_PASSWORD.innerHTML += "<br />Password too long. Maximum character length: 63";
							} else if (n > 13) {
								count_conf_WIFI_PASSWORD.innerHTML += "<br /><strong>Warning!</strong> The WiFi QR code only works for passwords up to a length of 13 characters.";
							}
						}

						conf_WIFI_PASSWORD.addEventListener("input", update_count_conf_WIFI_PASSWORD);
						update_count_conf_WIFI_PASSWORD();
					</script>
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Hardware</summary>

				<h3>Fan control</h3>
					<div>
					<label for="conf_FAN_PWM_TEMP_C">Temperature threshold</label><br />
						<select name="conf_FAN_PWM_TEMP_C" id="conf_FAN_PWM_TEMP_C">
							<option value="0">permanently on</option><option value="60">60 C</option><option value="65">65 C</option><option value="70">70 C</option><option value="75">75 C</option><option value="80">80 C</option>						</select>
					</div>

					<div>
						<label for="conf_FAN_PWM_GPIO">GPIO for PWM fan control</label><br />
						<select name="conf_FAN_PWM_GPIO" id="conf_FAN_PWM_GPIO">
							<option value="-">-</option><option value="14">14</option><option value="15">15</option><option value="18" selected>18</option><option value="23">23</option><option value="24">24</option>						</select>
					</div>
			</details>
		</div>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Global Password</summary>

				<h3>New global Password</h3>
					<label for="conf_PASSWORD_1">The password to protect your Little-Backup-Box. Used for the web-interface, filebrowser, ssh and samba-Windows-shares. Username in all cases is lbb. For linux-user &quot;pi&quot; the password is set too.</label>
					<input type="password"  id="conf_PASSWORD_1" name="conf_PASSWORD_1" size="20" value="">
					<label for="conf_PASSWORD_2">repeat:</label><br />
					<input type="password"  id="conf_PASSWORD_2" name="conf_PASSWORD_2" size="20" value="">

								</details>
		</div>

<!-- 		debug -->
		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Debug</summary>

				<h3>Log-Level</h3>
					<p>Log system-events (to Log Monitor)?<br>(Logfile: /var/www/little-backup-box/tmp/little-backup-box.log)</p>
					<label for="conf_LOGLEVEL">Select the Log-Level:</label><br />
					<select name="conf_LOGLEVEL" id="conf_LOGLEVEL">
						<option value="1"  selected>1, minimal</option>
						<option value="2" >2, medium</option>
						<option value="3" >3, maximum</option>
					</select>

				<h3>Log sync-protocol</h3>
					<input type="checkbox" id="conf_LOG_SYNC" name="conf_LOG_SYNC" checked>
					<label for="conf_LOG_SYNC">Log sync-details?</label><br />

				<h3>Display screenshots</h3>
					<input type="checkbox" id="conf_DIPLAY_IMAGES_KEEP" name="conf_DIPLAY_IMAGES_KEEP">
					<label for="conf_DIPLAY_IMAGES_KEEP">Keep display images? (/media/internal/display-images)</label><br />

			</details>
		</div>

<!-- 		save -->
		<div class="card" style="margin-top: 2em; position: sticky; bottom: 0; z-index: 10; background-color: var(--cbg)">
            <button style="margin-top: 2em" type="submit" name="save">Save</button>		</div>

	</form>

		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Download / Upload settings</summary>

				<h3>Download</h3>
					<p>Get a zip-archive with your settings</p>
					<a href="download-settings.php">Download settings</a>

				<h3>Upload</h3>
					<form action="/setup.php" method="POST" enctype="multipart/form-data">
						<label for="settings_file">Select the settings-file</label>
						<input type="file" name="settings_file" id="settings_file">
						<button style="margin-top: 2em;" type="submit" name="upload_settings">Upload settings</button>
					</form>

			</details>
		</div>

					<div class="card" style="margin-top: 2em;">
				<details>
					<summary style="letter-spacing: 1px; text-transform: uppercase;">comitup</summary>
					Saved WiFi access data will be deleted. An existing WiFi connection is interrupted and comitup goes into hotspot mode.<br>
Then connect to the "little-backup-box-nnnn" WiFi hotspot. Now you can reach commitup at <a href="http://10.41.0.1">http://10.41.0.1</a>. You can access the Little Backup Box WebUI here: <a href="https://10.41.0.1">https://10.41.0.1</a>.<br />
					<br />
					<a href='/cmd.php?CMD=comitup_reset'>Delete WiFi credentials</a>
				</details>
			</div>
		
		<div class="card" style="margin-top: 2em;">
			<details>
				<summary style="letter-spacing: 1px; text-transform: uppercase;">Update</summary>
				<h3>Update Little Backup Box</h3><p>Caution:<ul><li>The update can render the system unusable.</li><li>The update can cause a considerable download volume and thus possibly costs.</li><li>The update can take several minutes or longer, depending on the Internet speed.</li></ul><br>Only perform the update if you ...<ul><li>could also perform a new installation if necessary</li><li>have a stable internet connection</li><li>have a stable power supply</li></ul></p><!-- 				<ul> -->
<!-- 					<li> -->
						<b>							<button onclick="window.location.href='/cmd.php?CMD=update';">Update now</button>
						</b><!-- 					</li> -->
<!-- 					<li> -->
<!-- 						 -->
<!-- 								<button onclick="window.location.href='/cmd.php?CMD=update_development';">Update now - development branch</button> -->
<!-- 						 -->
<!-- 					</li> -->
<!-- 				</ul> -->

				<p>
					<a href="/setup.php?check_update=true">Check for new update</a>
				</p>

<!--				<h3>Modifications to the installation</h3>
					<p>These changes will be overwritten by updates and may need to be re-executed.</p>
					<h4>Update libraw to 0.21.2-2.1</h4>
						<label>Please only run this if preview images cannot be generated from RAW images using the standard version.</label>
						<button onclick="window.location.href='/cmd.php?CMD=update_libraw';">Update libraw to 0.21.2-2.1</button>-->

			</details>
		</div>

						<div class="card" style="margin-top: 2em;">
					<details>
						<summary style="letter-spacing: 1px; text-transform: uppercase;">Terminate LBB</summary>
						<p>Close Little Backup Box and free up the computer for other tasks until it restarts.</p>
						<p>This also pauses any configured shutdown after an idle time.</p>

						<form action="/setup.php" method="POST">
							<input type="checkbox" name="exit_lbb_stop_backup">
							<label for="exit_lbb_stop_backup">Stop a backup that may be running.</label><br />
							<button type="submit" name="exit_lbb" value="1">Stop LBB</button>
						</form>

					</details>
				</div>
				
		
<div class="footer">
	<form action="/setup.php" class="text-center" style="margin-top: 1em;" method="POST">
			<div class="card" style="margin-top: 3em;">
				<button type="submit" name="reboot" value="1" class="danger">Reboot</button>
				<button type="submit" name="shutdown" value="1" class="danger">Power off</button>
			</div>
	</form>

</div>

<!-- IP Info -->
<div class="card" style="margin-top: 3em;"><img src="/tmp/WIFI.png" style="padding: 5px;" title="HOTSPOT"> <a href="http://10.0.1.40"><img src="/tmp/ip-qr-link-10-0-1-40_64_online.png" style="padding: 5px;"></a> 
</div>		</body>

</html>
